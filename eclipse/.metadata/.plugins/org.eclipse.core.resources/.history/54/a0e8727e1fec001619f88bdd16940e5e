package net.minecraft.client.entity;

import me.EaZy.client.Category;
import me.EaZy.client.Configs;
import me.EaZy.client.FileManager;
import me.EaZy.client.Module;
import me.EaZy.client.alts.LoginManager;
import me.EaZy.client.events.ChatMessageEvent;
import me.EaZy.client.events.EventMovePlayer;
import me.EaZy.client.events.EventPostMotionUpdates;
import me.EaZy.client.events.EventPostUpdate;
import me.EaZy.client.events.EventPreMotionUpdates;
import me.EaZy.client.events.EventPreUpdate;
import me.EaZy.client.events.EventSwingItem;
import me.EaZy.client.events.EventUpdate;
import me.EaZy.client.events.TickEvent;
import me.EaZy.client.hooks.InGameGUIHook;
import me.EaZy.client.main.Client;
import me.EaZy.client.modules.AutoArmor;
import me.EaZy.client.modules.BackPort;
import me.EaZy.client.modules.Blink;
import me.EaZy.client.modules.FastUse;
import me.EaZy.client.modules.FastWeb;
import me.EaZy.client.modules.Fly;
import me.EaZy.client.modules.Fucker;
import me.EaZy.client.modules.GhostHand;
import me.EaZy.client.modules.ILikeParticles;
import me.EaZy.client.modules.Jesus;
import me.EaZy.client.modules.KillAura;
import me.EaZy.client.modules.NameProtect;
import me.EaZy.client.modules.NoKnockBack;
import me.EaZy.client.modules.NoSlowdown;
import me.EaZy.client.modules.Phase;
import me.EaZy.client.modules.Scaffold;
import me.EaZy.client.modules.Smileys;
import me.EaZy.client.modules.Spammer;
import me.EaZy.client.modules.Speed;
import me.EaZy.client.modules.Step;
import me.EaZy.client.modules.Strafe;
import me.EaZy.client.modules.Team;
import me.EaZy.client.modules.Timer;
import me.EaZy.client.modules.YesCheat;
import me.EaZy.client.modules.YesCheat.Mode;
import me.EaZy.client.utils.BlockUtils;
import me.EaZy.client.utils.EntityUtils;
import me.EaZy.client.utils.Friend;
import me.EaZy.client.utils.Friends;
import me.EaZy.client.utils.MiscUtils;

import net.minecraft.block.Block;
import net.minecraft.block.material.Material;
import net.minecraft.client.Minecraft;
import net.minecraft.client.audio.MovingSoundMinecartRiding;
import net.minecraft.client.audio.PositionedSoundRecord;
import net.minecraft.client.gui.GuiCommandBlock;
import net.minecraft.client.gui.GuiEnchantment;
import net.minecraft.client.gui.GuiHopper;
import net.minecraft.client.gui.GuiMerchant;
import net.minecraft.client.gui.GuiRepair;
import net.minecraft.client.gui.GuiScreen;
import net.minecraft.client.gui.GuiScreenBook;
import net.minecraft.client.gui.inventory.GuiBeacon;
import net.minecraft.client.gui.inventory.GuiBrewingStand;
import net.minecraft.client.gui.inventory.GuiChest;
import net.minecraft.client.gui.inventory.GuiCrafting;
import net.minecraft.client.gui.inventory.GuiDispenser;
import net.minecraft.client.gui.inventory.GuiEditSign;
import net.minecraft.client.gui.inventory.GuiFurnace;
import net.minecraft.client.gui.inventory.GuiScreenHorseInventory;
import net.minecraft.client.multiplayer.WorldClient;
import net.minecraft.client.network.NetHandlerPlayClient;
import net.minecraft.client.network.NetworkPlayerInfo;
import net.minecraft.client.settings.KeyBinding;
import net.minecraft.command.CommandResultStats;
import net.minecraft.command.ICommandSender;
import net.minecraft.command.PlayerNotFoundException;
import net.minecraft.command.PlayerSelector;
import net.minecraft.command.server.CommandBlockLogic;
import net.minecraft.entity.Entity;
import net.minecraft.entity.IMerchant;
import net.minecraft.entity.item.EntityItem;
import net.minecraft.entity.item.EntityMinecart;
import net.minecraft.entity.passive.EntityHorse;
import net.minecraft.entity.player.EntityPlayer;
import net.minecraft.init.Blocks;
import net.minecraft.init.Items;
import net.minecraft.inventory.IInventory;
import net.minecraft.item.Item;
import net.minecraft.item.ItemStack;
import net.minecraft.nbt.JsonToNBT;
import net.minecraft.nbt.NBTException;
import net.minecraft.nbt.NBTTagCompound;
import net.minecraft.nbt.NBTTagString;
import net.minecraft.network.play.client.C01PacketChatMessage;
import net.minecraft.network.play.client.C03PacketPlayer;
import net.minecraft.network.play.client.C07PacketPlayerDigging;
import net.minecraft.network.play.client.C0APacketAnimation;
import net.minecraft.network.play.client.C0BPacketEntityAction;
import net.minecraft.network.play.client.C0CPacketInput;
import net.minecraft.network.play.client.C0DPacketCloseWindow;
import net.minecraft.network.play.client.C10PacketCreativeInventoryAction;
import net.minecraft.network.play.client.C13PacketPlayerAbilities;
import net.minecraft.network.play.client.C16PacketClientStatus;
import net.minecraft.network.play.client.C16PacketClientStatus.EnumState;
import net.minecraft.network.play.server.S40PacketDisconnect;
import net.minecraft.potion.Potion;
import net.minecraft.stats.StatBase;
import net.minecraft.stats.StatFileWriter;
import net.minecraft.tileentity.TileEntitySign;
import net.minecraft.util.BlockPos;
import net.minecraft.util.ChatComponentText;
import net.minecraft.util.DamageSource;
import net.minecraft.util.EnumChatFormatting;
import net.minecraft.util.EnumFacing;
import net.minecraft.util.EnumParticleTypes;
import net.minecraft.util.IChatComponent;
import net.minecraft.util.MovementInput;
import net.minecraft.util.ResourceLocation;
import net.minecraft.util.Session;
import net.minecraft.util.StringUtils;
import net.minecraft.world.IInteractionObject;
import net.minecraft.world.World;
import net.minecraft.world.WorldSettings;

import java.net.Proxy;
import java.util.ArrayList;
import java.util.List;

import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger;
import org.lwjgl.input.Keyboard;

import com.darkmagician6.eventapi.EventManager;
import com.mojang.authlib.Agent;
import com.mojang.authlib.exceptions.AuthenticationException;
import com.mojang.authlib.exceptions.AuthenticationUnavailableException;
import com.mojang.authlib.yggdrasil.YggdrasilAuthenticationService;
import com.mojang.authlib.yggdrasil.YggdrasilUserAuthentication;

import de.Hero.clickgui.ClickGUI;

public class EntityPlayerSP extends AbstractClientPlayer {
	public final NetHandlerPlayClient sendQueue;
	private final StatFileWriter field_146108_bO;
	private double field_175172_bI;
	private double field_175166_bJ;
	private double field_175167_bK;
	private float field_175164_bL;
	private float field_175165_bM;
	private boolean field_175170_bN;
	private boolean field_175171_bO;
	private int field_175168_bP;
	private boolean field_175169_bQ;
	private String clientBrand;
	public MovementInput movementInput;
	protected Minecraft mc;

	public double groundY = 64.0f;
	public static boolean isSpectating = false;

	/**
	 * Used to tell if the player pressed forward twice. If this is at 0 and
	 * it's pressed (And they are allowed to sprint, aka enough food on the
	 * ground etc) it sets this to 7. If it's pressed and it's greater than 0
	 * enable sprinting.
	 */
	protected int sprintToggleTimer;

	/** Ticks left before sprinting is disabled. */
	public int sprintingTicksLeft;
	public float renderArmYaw;
	public float renderArmPitch;
	public float prevRenderArmYaw;
	public float prevRenderArmPitch;
	private int horseJumpPowerCounter;
	private float horseJumpPower;

	/** The amount of time an entity has been in a Portal */
	public float timeInPortal;

	/** The amount of time an entity has been in a Portal the previous tick */
	public float prevTimeInPortal;

	public double realPosY = 0;

	public EntityPlayerSP(final Minecraft mcIn, final World worldIn, final NetHandlerPlayClient p_i46278_3_,
			final StatFileWriter p_i46278_4_) {
		super(worldIn, p_i46278_3_.func_175105_e());
		sendQueue = p_i46278_3_;
		field_146108_bO = p_i46278_4_;
		mc = mcIn;
		dimension = 0;
	}

	/**
	 * Called when the entity is attacked.
	 */
	@Override
	public boolean attackEntityFrom(final DamageSource source, final float amount) {
		return false;
	}

	/**
	 * Heal living entity (param: amount of half-hearts)
	 */
	@Override
	public void heal(final float p_70691_1_) {}

	/**
	 * Called when a player mounts an entity. e.g. mounts a pig, mounts a boat.
	 */
	@Override
	public void mountEntity(final Entity entityIn) {
		super.mountEntity(entityIn);

		if (entityIn instanceof EntityMinecart) {
			mc.getSoundHandler().playSound(new MovingSoundMinecartRiding(this, (EntityMinecart) entityIn));
		}
	}

	public void sendMotionUpdates() {
		boolean var2;
		final EventPreMotionUpdates event = new EventPreMotionUpdates(posX, getEntityBoundingBox().minY, posZ,
				field_175172_bI, field_175166_bJ, field_175167_bK, rotationYaw, rotationPitch, field_175164_bL,
				field_175165_bM, isSprinting(), field_175171_bO, isSneaking(), field_175170_bN, onGround);
		EventManager.call(event);
		if (event.isCancelled()) {
			return;
		}
		final boolean var1 = isSprinting();
		if (var1 != field_175171_bO) {
			if (var1) {
				sendQueue.addToSendQueue(new C0BPacketEntityAction(this, C0BPacketEntityAction.Action.START_SPRINTING));
			} else {
				sendQueue.addToSendQueue(new C0BPacketEntityAction(this, C0BPacketEntityAction.Action.STOP_SPRINTING));
			}
			field_175171_bO = var1;
		}
		if ((var2 = isSneaking()) != field_175170_bN) {
			if (var2) {
				sendQueue.addToSendQueue(new C0BPacketEntityAction(this, C0BPacketEntityAction.Action.START_SNEAKING));
			} else {
				sendQueue.addToSendQueue(new C0BPacketEntityAction(this, C0BPacketEntityAction.Action.STOP_SNEAKING));
			}
			field_175170_bN = var2;
		}
		if (func_175160_A()) {
			boolean var14;
			float pitch;
			float yaw;
			if (EntityUtils.lookChanged || EntityUtils.changedlookChanged) {
				yaw = EntityUtils.yaw;
				pitch = EntityUtils.pitch;
			} else {
				yaw = rotationYaw;
				pitch = rotationPitch;
			}
			final double var3 = posX - field_175172_bI;
			final double var5 = getEntityBoundingBox().minY - field_175166_bJ;
			final double var7 = posZ - field_175167_bK;
			final double var9 = yaw - field_175164_bL;
			final double var11 = pitch - field_175165_bM;
			boolean var13 = var3 * var3 + var5 * var5 + var7 * var7 > 9.0E-4 || field_175168_bP >= 20;
			var14 = var9 != 0.0 || var11 != 0.0 || EntityUtils.changedlookChanged;
			if (Client.isToggled(Blink.class)) {
				if (var13 && var14) {
					Blink.addToBlinkQueue(new C03PacketPlayer.C06PacketPlayerPosLook(posX, getEntityBoundingBox().minY,
							posZ, yaw, pitch, onGround));
				} else if (var13) {
					Blink.addToBlinkQueue(new C03PacketPlayer.C04PacketPlayerPosition(posX, getEntityBoundingBox().minY,
							posZ, onGround));
				} else if (var14) {
					Blink.addToBlinkQueue(new C03PacketPlayer.C05PacketPlayerLook(yaw, pitch, onGround));
				} else {
					Blink.addToBlinkQueue(new C03PacketPlayer(onGround));
				}
			} else {

				if (Client.isToggled(Jesus.class)
						&& !Client.setmgr.getSettingByName(Client.getModule(Jesus.class), "AAC").getValBoolean()
						&& YesCheat.enabled && !isInWater() && !movementInput.sneak
						&& Minecraft.theWorld.getBlockState(new BlockPos(this).add(0, -1, 0)).getBlock()
								.getMaterial() == Material.water) {
					if (var13) {
						sendQueue.addToSendQueue(new C03PacketPlayer.C06PacketPlayerPosLook(posX,
								getEntityBoundingBox().minY + (ticksExisted % 2 == 0 ? 0.05 : -0.05), posZ, yaw, pitch,
								onGround));
					} else if (var14) {
						sendQueue.addToSendQueue(new C03PacketPlayer.C05PacketPlayerLook(yaw, pitch, onGround));
					} else {
						sendQueue.addToSendQueue(new C03PacketPlayer(onGround));
					}
				} else if (ridingEntity == null) {
					if (var13 && var14) {
						sendQueue.addToSendQueue(new C03PacketPlayer.C06PacketPlayerPosLook(posX,
								getEntityBoundingBox().minY, posZ, yaw, pitch, onGround));
					} else if (var13) {
						sendQueue.addToSendQueue(new C03PacketPlayer.C04PacketPlayerPosition(posX,
								getEntityBoundingBox().minY, posZ, onGround));
					} else if (var14) {
						sendQueue.addToSendQueue(new C03PacketPlayer.C05PacketPlayerLook(yaw, pitch, onGround));
					} else {
						sendQueue.addToSendQueue(new C03PacketPlayer(onGround));
					}
				} else {
					sendQueue.addToSendQueue(
							new C03PacketPlayer.C06PacketPlayerPosLook(motionX, -999.0, motionZ, yaw, pitch, onGround));
					var13 = false;
				}
			}
			++field_175168_bP;
			if (var13) {
				field_175172_bI = posX;
				field_175166_bJ = getEntityBoundingBox().minY;
				field_175167_bK = posZ;
				field_175168_bP = 0;
			}
			if (var14) {
				field_175164_bL = rotationYaw;
				field_175165_bM = rotationPitch;
			}
		}
		final EventPostMotionUpdates e = new EventPostMotionUpdates();
		EventManager.call(e);
	}

	/**
	 * Called to update the entity's position/logic.
	 */
	@Override
	public void onUpdate() {
		EventManager.call(new TickEvent());
		if (worldObj.isBlockLoaded(new BlockPos(posX, 0.0, posZ))) {
			super.onUpdate();
			if (isRiding()) {
				sendQueue.addToSendQueue(new C03PacketPlayer.C05PacketPlayerLook(rotationYaw, rotationPitch, onGround));
				sendQueue.addToSendQueue(
						new C0CPacketInput(moveStrafing, moveForward, movementInput.jump, movementInput.sneak));
			} else {
				final EventPreUpdate preEvent = new EventPreUpdate();
				EventManager.call(preEvent);
				if (preEvent.isCancelled()) {
					return;
				}

				sendMotionUpdates();

				final EventPostUpdate postEvent = new EventPostUpdate();
				EventManager.call(postEvent);
				if (postEvent.isCancelled()) {
					return;
				}
			}
		}
	}

	public void func_175161_p() {
		final boolean var1 = isSprinting();

		if (var1 != field_175171_bO) {
			if (var1) {
				sendQueue.addToSendQueue(new C0BPacketEntityAction(this, C0BPacketEntityAction.Action.START_SPRINTING));
			} else {
				sendQueue.addToSendQueue(new C0BPacketEntityAction(this, C0BPacketEntityAction.Action.STOP_SPRINTING));
			}

			field_175171_bO = var1;
		}

		final boolean var2 = isSneaking();

		if (var2 != field_175170_bN) {
			if (var2) {
				sendQueue.addToSendQueue(new C0BPacketEntityAction(this, C0BPacketEntityAction.Action.START_SNEAKING));
			} else {
				sendQueue.addToSendQueue(new C0BPacketEntityAction(this, C0BPacketEntityAction.Action.STOP_SNEAKING));
			}

			field_175170_bN = var2;
		}

		if (func_175160_A()) {
			final double var3 = posX - field_175172_bI;
			final double var5 = getEntityBoundingBox().minY - field_175166_bJ;
			final double var7 = posZ - field_175167_bK;
			final double var9 = rotationYaw - field_175164_bL;
			final double var11 = rotationPitch - field_175165_bM;
			boolean var13 = var3 * var3 + var5 * var5 + var7 * var7 > 9.0E-4D || field_175168_bP >= 20;
			final boolean var14 = var9 != 0.0D || var11 != 0.0D;

			if (ridingEntity == null) {
				if (var13 && var14) {
					sendQueue.addToSendQueue(new C03PacketPlayer.C06PacketPlayerPosLook(posX,
							getEntityBoundingBox().minY, posZ, rotationYaw, rotationPitch, onGround));
				} else if (var13) {
					sendQueue.addToSendQueue(new C03PacketPlayer.C04PacketPlayerPosition(posX,
							getEntityBoundingBox().minY, posZ, onGround));
				} else if (var14) {
					sendQueue.addToSendQueue(
							new C03PacketPlayer.C05PacketPlayerLook(rotationYaw, rotationPitch, onGround));
				} else {
					sendQueue.addToSendQueue(new C03PacketPlayer(onGround));
				}
			} else {
				sendQueue.addToSendQueue(new C03PacketPlayer.C06PacketPlayerPosLook(motionX, -999.0D, motionZ,
						rotationYaw, rotationPitch, onGround));
				var13 = false;
			}

			++field_175168_bP;

			if (var13) {
				field_175172_bI = posX;
				field_175166_bJ = getEntityBoundingBox().minY;
				field_175167_bK = posZ;
				field_175168_bP = 0;
			}

			if (var14) {
				field_175164_bL = rotationYaw;
				field_175165_bM = rotationPitch;
			}
		}
	}

	/**
	 * Called when player presses the drop item key
	 */
	@Override
	public EntityItem dropOneItem(final boolean p_71040_1_) {
		final C07PacketPlayerDigging.Action var2 = p_71040_1_ ? C07PacketPlayerDigging.Action.DROP_ALL_ITEMS
				: C07PacketPlayerDigging.Action.DROP_ITEM;
		sendQueue.addToSendQueue(new C07PacketPlayerDigging(var2, BlockPos.ORIGIN, EnumFacing.DOWN));
		return null;
	}

	/**
	 * Joins the passed in entity item with the world. Args: entityItem
	 */
	@Override
	protected void joinEntityItemWithWorld(final EntityItem p_71012_1_) {}

	/**
	 * Sends a chat message from the player. Args: chatMessage
	 */
	public void sendChatMessage(String chatMessage) {
		// TODO
		final String[] cmd = chatMessage.split(" ");
		if (cmd[0].startsWith("*") && !Client.theClient.getIrcManager().isConnected() && !Client.isHidden) {
			new Thread("EaZy IRC Connector") {
				@Override
				public void run() {
					Client.theClient.getIrcManager().connect();
				};
			}.start();
			msg("Connecting to IRC...");
			return;
		}

		final ChatMessageEvent event = new ChatMessageEvent(chatMessage);
		EventManager.call(event);
		if (event.isCancelled()) {
			return;
		}
		if (cmd[0].startsWith(Configs.commandPrefix) && !Client.isHidden) {
			if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "help")) {
				String str = "";
				int ModCounter = 0;
				for (final Module mod : Client.getModules()) {
					if (mod.getCategory() == Category.HIDDEN) {
						continue;
					}
					++ModCounter;
					str = str.isEmpty() ? String.valueOf(String.valueOf(str)) + "§a" + mod.getName()
							: String.valueOf(String.valueOf(str)) + "§8, §a" + mod.getName();
				}
				msg("§eMods §6(" + ModCounter + ")§e: " + str);
				String str2 = "";
				int CMDCounter = 0;
				for (final String cmds : Client.getCmds()) {
					++CMDCounter;
					str2 = str2.isEmpty() ? String.valueOf(String.valueOf(str2)) + "§a" + cmds
							: String.valueOf(String.valueOf(str2)) + "§8, §a" + cmds;
				}
				msg("§eCommands §6(" + CMDCounter + ")§e: " + str2);
				msg("§eIRC-Help:");
				msg("§7*§2[Message]§7: §6Write a message");
				msg("§7*§2list§7: §6Show all online users");
				msg("§7*§2msg [User] [Message]§7: §6Write a private message to [User]");
				msg("§7*§2info [User]§7: §6Show information from a user");
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "gm")) {
				if (cmd.length != 1) {
					try {
						final String[] args = chatMessage.split(" ");
						if (args[1].equalsIgnoreCase("0")) {
							Minecraft.playerController.setGameType(WorldSettings.GameType.SURVIVAL);
							addChatMessage(new ChatComponentText("§6Gamemode: §cSURVIVAL"));
							sendChatMessage("/gamemode 0");
						}
						if (args[1].equalsIgnoreCase("1")) {
							Minecraft.playerController.setGameType(WorldSettings.GameType.CREATIVE);
							addChatMessage(new ChatComponentText("§6Gamemode: §cCREATIVE"));
							sendChatMessage("/gamemode 1");
						}
						if (args[1].equalsIgnoreCase("2")) {
							Minecraft.playerController.setGameType(WorldSettings.GameType.ADVENTURE);
							msg("§6Gamemode: §cADVENTURE");
							sendChatMessage("/gamemode 2");
						}
						if (args[1].equalsIgnoreCase("3")) {
							Minecraft.playerController.setGameType(WorldSettings.GameType.SPECTATOR);
							msg("§6Gamemode: §cSPECTATOR");
							sendChatMessage("/gamemode 3");
						}
					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				} else {
					msg("§6Syntax: §2gm [0/1/2/3]");
				}
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "kr")) {
				if (cmd.length != 1) {
					try {
						final String[] args = chatMessage.split(" ");
						final double val2 = Double.parseDouble(args[1]);
						if (val2 <= 6.0 && val2 >= 0.0) {
							Client.setmgr.getSettingByName(Client.getModule(KillAura.class), "Range")
									.setValFloat((float) val2);
							msg("§2KillAura-Range set to: §6" + Client.setmgr
									.getSettingByName(Client.getModule(KillAura.class), "Range").getValFloat());
						} else {
							msg("§4KillAura-Range could not be updated!");
						}
					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				} else {
					msg("§6Syntax: §2kr [KillAura-Range]");
				}
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "ks")) {
				if (cmd.length != 1) {
					try {
						final String[] args = chatMessage.split(" ");
						final float val = Float.parseFloat(args[1]);
						Client.setmgr.getSettingByName(Client.getModule(KillAura.class), "Delay").setValFloat(val);
						msg("§2KillAura-Delay set to: §6" + args[1]);
					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				} else {
					msg("§6Syntax: §2ks [KillAura-Delay in MS]");
				}
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "timer") && cmd.length != 1) {
				if (cmd.length != 1) {
					try {
						final String[] args = chatMessage.split(" ");
						final float val3 = Float.parseFloat(args[1]);
						if ((double) val3 > 0 && val3 <= 10.0f) {
							Client.setmgr.getSettingByName(Client.getModule(Timer.class), "Speed").setValFloat(val3);
							msg("§2Timer-Speed set to: §6" + Client.setmgr
									.getSettingByName(Client.getModule(Timer.class), "Speed").getValFloat());
						} else {
							msg("§4Timer-Speed could not be updated!");
						}
					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				} else {
					msg("§6Syntax: §2timer [Timer-Speed]");
				}
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "clearchat")) {
				mc.ingameGUI.getChatGUI().clearChatMessages();
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "tp")) {
				if (cmd.length == 4) {
					try {
						final String[] args = chatMessage.split(" ");
						final int x = args[1].startsWith("~")
								? args[1].equals("~") ? (int) Minecraft.thePlayer.posX
										: (int) Minecraft.thePlayer.posX + Integer.parseInt(args[1].substring(1))
								: Integer.parseInt(args[1]);
						final int y = args[2].startsWith("~")
								? args[2].equals("~") ? (int) Minecraft.thePlayer.posY
										: (int) Minecraft.thePlayer.posY + Integer.parseInt(args[2].substring(1))
								: Integer.parseInt(args[2]);
						final int z = args[3].startsWith("~")
								? args[3].equals("~") ? (int) Minecraft.thePlayer.posZ
										: (int) Minecraft.thePlayer.posZ + Integer.parseInt(args[3].substring(1))
								: Integer.parseInt(args[3]);
						final BlockPos blockPos = new BlockPos(x, y, z);
						EntityUtils.getReference();
						EntityUtils.getReference();
						EntityUtils.getReference();
						final double[] blockPosition = new double[] { x + 0.5f, y
								+ BlockUtils.getOffset(Minecraft.theWorld.getBlockState(blockPos).getBlock(), blockPos)
								+ 1.0, z + 0.5f };
						setPosition(blockPosition[0], blockPosition[1], blockPosition[2]);
					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				} else if (cmd.length == 2) {
					try {
						final String[] args = chatMessage.split(" ");
						for (final Object entity : Minecraft.theWorld.loadedEntityList) {
							EntityOtherPlayerMP player;
							if (!(entity instanceof EntityOtherPlayerMP)
									|| !(player = (EntityOtherPlayerMP) entity).getName().equals(args[1])) {
								continue;
							}
							final double valx = player.posX;
							final double valy = player.posY;
							final double valz = player.posZ;
							final BlockPos blockPos = new BlockPos(valx, valy, valz);
							final double[] playerPosition = new double[] { EntityUtils.getReference().posX,
									EntityUtils.getReference().posY, EntityUtils.getReference().posZ };
							final double[] blockPosition = new double[] {
									(float) valx + 0.5f, valy
											+ BlockUtils.getOffset(
													Minecraft.theWorld.getBlockState(blockPos).getBlock(), blockPos)
											+ 1.0,
									(float) valz + 0.5f };
							EntityUtils.teleportToPosition(playerPosition, blockPosition, 0.25, 0.0, true, true);
							setPosition(blockPosition[0], blockPosition[1], blockPosition[2]);
							return;
						}
						msg("§cSomething went wrong. :(");
					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				} else {
					msg("§6Syntax: §2tp [Name / [X Y Z]]");
				}
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "rename")) {
				if (!capabilities.isCreativeMode) {
					msg("§4Error: §cCreative-Mode only!");
					return;
				}
				if (cmd.length != 1) {
					try {
						final String[] args = chatMessage.split(" ");
						final ItemStack item3 = getCurrentEquippedItem();
						String message = args[1];
						if (item3 != null) {
							int i = 1;
							while (++i < args.length) {
								message = String.valueOf(message) + " " + args[i];
							}
							item3.setStackDisplayName(message);
							msg("§3Successfully renamed: §c" + message);
						} else {
							msg("§cYou are not holding an item!");
						}

					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				} else {
					try {
						final ItemStack item2 = getCurrentEquippedItem();
						if (item2 != null) {
							item2.setStackDisplayName("");
							msg("§3Successfully renamed to nothing!");
						}
					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				}
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "t")) {
				if (cmd.length != 1) {
					try {
						final String[] args = chatMessage.split(" ");
						for (final Module mods : Client.getModules()) {
							if (!mods.getName().equalsIgnoreCase(args[1]) && !mods.alias.equalsIgnoreCase(args[1])) {
								continue;
							}
							Client.toggle(mods.getName());
							msg("§6" + mods.getName() + (mods.isToggled() ? " §2enabled!" : " §4disabled!"));
						}
					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				} else {
					msg("§6Syntax: §2t [Module]");
				}
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "friend")) {
				if (cmd.length != 1) {
					try {
						final String[] args = chatMessage.split(" ");

						if (args[1].equalsIgnoreCase("add")) {
							if (args.length == 3) {
								Friends.add(args[2]);
								FileManager.saveFriends();
								msg("§6" + args[2] + " §2added!");
							} else if (args.length == 4) {
								Friends.add(args[2], args[3].replace(":", "").replace("\n", "").replace("\r", ""));
								FileManager.saveFriends();
								msg("§6" + args[2] + " §2added as §6"
										+ args[3].replace(":", "").replace("\n", "").replace("\r", "") + "§2!");
							} else {
								msg("§6Syntax: §2friend add [Name] (Nick)");
							}
						}
						if (args[1].equalsIgnoreCase("remove")) {
							if (args.length == 3) {
								if (args[2].equalsIgnoreCase("all")) {
									Friends.friends.clear();
									msg("§6All Friends §cremoved!");
								} else {
									final boolean b = Friends.remove(args[2]);
									FileManager.saveFriends();
									if (b) {
										msg("§6" + args[2] + " §cremoved!");
									} else {
										msg("§6" + args[2] + " §4was not friended!");
									}
								}
							} else {
								msg("§6Syntax: §2friend remove [Name/all]");
							}
						}
						if (args[1].equalsIgnoreCase("reload")) {
							Friends.friends.clear();
							FileManager.loadFriends();
							msg("§2Friend file reloaded!");
						}
						if (args[1].equalsIgnoreCase("list")) {
							if (!Friends.friends.isEmpty()) {
								for (final Friend friend : Friends.getFriends()) {
									if (friend.getUsername().equals(friend.getNick())) {
										msg("§3" + friend.getUsername());
									} else {
										msg("§3" + friend.getUsername() + " §2as §3" + friend.getNick());
									}
								}
							} else {
								msg("§cYou don\'t have friends. :(");
							}
						}
					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				} else {
					msg("§6Syntax: §2friend [add [Name] / remove [Name] / reload / list");
				}
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "serverlag")) {
				try {
					final String[] args = chatMessage.split(" ");
					if (args.length == 1) {
						final C16PacketClientStatus p = new C16PacketClientStatus(EnumState.REQUEST_STATS);
						int i = 0;
						while (i < 10000) {
							Minecraft.getNetHandler().addToSendQueue(p);
							++i;
						}
					} else {
						final C16PacketClientStatus p = new C16PacketClientStatus(EnumState.REQUEST_STATS);
						int i = 0;
						while (i < Integer.parseInt(args[1])) {
							Minecraft.getNetHandler().addToSendQueue(p);
							++i;
						}
					}
				} catch (final Exception exception) {
					msg("§4Error: §c" + exception.toString());
				}
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "viewbarrier")) {
				if (cmd.length != 1) {
					try {
						final String[] args = chatMessage.split(" ");
						if (args[1].equalsIgnoreCase("true")) {
							WorldClient.showBarrier = true;
							msg("§3You now see Barriers!");
						}
						if (args[1].equalsIgnoreCase("false")) {
							WorldClient.showBarrier = false;
							msg("§3You no longer see Barriers!");
						}
					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				} else {
					msg("§6Syntax: §2viewbarrier [true/false]");
				}
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "sc")
					|| cmd[0].equalsIgnoreCase(Configs.commandPrefix + "scaffold")) {
				if (cmd.length != 1) {
					try {
						final String[] args = chatMessage.split(" ");

						if (args.length == 3) {
							if (args[1].equalsIgnoreCase("aac")) {
								if (MiscUtils.isBoolean(args[2])) {
									Client.setmgr.getSettingByName(Client.getModule(Scaffold.class), "Expanded")
											.setValBoolean(Boolean.parseBoolean(args[2].toLowerCase()));
									msg("§2Set Scaffold AAC to " + args[2].toLowerCase() + "!");
								} else {
									msg("§cPlease type true or false!");
								}
							}
							if (args[1].equalsIgnoreCase("expand") || args[1].equalsIgnoreCase("ex")
									|| args[1].equalsIgnoreCase("e")) {
								if (MiscUtils.isFloat(args[2]) && Float.parseFloat(args[2]) >= 1
										&& Float.parseFloat(args[2]) <= 10) {
									Client.setmgr.getSettingByName(Client.getModule(Scaffold.class), "Expand")
											.setValFloat(Float.parseFloat(args[2]));
									msg("§2Set Scaffold Expand to " + args[2].toLowerCase() + "!");
								} else {
									msg("§cPlease a number between 1 and 10!");
								}
							}
						} else {
							msg("§6Syntax: §2sc [AAC [true/false] / Expand [1-10]]");
						}

					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				} else {
					msg("§6Syntax: §2sc [AAC [true/false] / Expand [1-10]]");
				}
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "fu")) {
				if (cmd.length != 1) {
					try {
						final String[] args = chatMessage.split(" ");
						if (args[1].equalsIgnoreCase("instant")) {
							Client.setmgr.getSettingByName(Client.getModule(FastUse.class), "Instant")
									.setValBoolean(true);
							msg("§3FastUse set to INSTANT!");
						}
						if (args[1].equalsIgnoreCase("fast")) {
							Client.setmgr.getSettingByName(Client.getModule(FastUse.class), "Instant")
									.setValBoolean(false);
							msg("§3FastUse set to NORMAL!");
						}
					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				} else {
					msg("§6FastUse-Modes: §4"
							+ (Client.setmgr.getSettingByName(Client.getModule(FastUse.class), "Instant")
									.getValBoolean() ? "instant" : "fast"));
				}
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "fly")) {
				if (cmd.length != 1) {
					try {
						final String[] args = chatMessage.split(" ");
						if (args[1].equalsIgnoreCase("speed")) {
							final Float val4 = Float.valueOf(Float.parseFloat(args[2]));
							Client.setmgr.getSettingByName(Client.getModule(Fly.class), "Speed").setValFloat(val4);
							msg("§6Fly-Speed set to: §4" + Client.setmgr
									.getSettingByName(Client.getModule(Fly.class), "Speed").getValFloat());
						} else if (args[1].equalsIgnoreCase("kick")) {
							if (args[2].equalsIgnoreCase("true") || args[2].equalsIgnoreCase("false")) {
								Client.setmgr.getSettingByName(Client.getModule(Fly.class), "KickSafe")
										.setValBoolean(Boolean.parseBoolean(args[2].toLowerCase()));
								msg("§6Fly-Kick-ByPass set to: §4"
										+ (Client.setmgr.getSettingByName(Client.getModule(Fly.class), "KickSafe")
												.getValBoolean() ? "§2enabled" : "§cdisabled"));
							} else {
								msg("§cArgument must be §2true §cor §2false§c!");
							}
						}
					} catch (final NumberFormatException numformat) {
						msg("§cThis is not a number!");
					} catch (final ArrayIndexOutOfBoundsException outofbounds) {
						msg("§6Syntax: §4fly [speed [SPEED] / kick [true/false]]");
					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				} else {
					msg("§6Syntax: §4fly [speed [SPEED] / kick [true/false]]");
				}
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "off")) {
				for (final Module mods : Client.getModules()) {
					if (mods.isToggled()) {
						Client.disable(mods.getName());
					}
				}
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "kmode")
					|| cmd[0].equalsIgnoreCase(Configs.commandPrefix + "aura")
					|| cmd[0].equalsIgnoreCase(Configs.commandPrefix + "killaura")) {
				if (cmd.length != 1) {
					try {
						final String[] args = chatMessage.split(" ");
						if (args[1].equalsIgnoreCase("player")) {
							if (args[2].equalsIgnoreCase("true")) {
								Client.setmgr.getSettingByName(Client.getModule(KillAura.class), "Players")
										.setValBoolean(true);
								msg("§6KillAura now hits Players!");
							}
							if (args[2].equalsIgnoreCase("false")) {
								Client.setmgr.getSettingByName(Client.getModule(KillAura.class), "Players")
										.setValBoolean(false);
								msg("§6KillAura no longer hits Players!");
							}
						} else if (args[1].equalsIgnoreCase("mobs")) {
							if (args[2].equalsIgnoreCase("true")) {
								Client.setmgr.getSettingByName(Client.getModule(KillAura.class), "Mobs")
										.setValBoolean(true);
								msg("§6KillAura now hits Mobs!");
							}
							if (args[2].equalsIgnoreCase("false")) {
								Client.setmgr.getSettingByName(Client.getModule(KillAura.class), "Mobs")
										.setValBoolean(false);
								msg("§6KillAura no longer hits Mobs!");
							}
						} else if (args[1].equalsIgnoreCase("face") || args[1].equalsIgnoreCase("facing")) {
							if (args[2].equalsIgnoreCase("Client") || args[2].equalsIgnoreCase("Packet")) {
								Client.setmgr.getSettingByName(Client.getModule(KillAura.class), "Face")
										.setValString(args[2]);;
								msg("§6KillAura Facing set to " + args[2]);
							}
						} else if (args[1].equalsIgnoreCase("Invisible") || args[1].equalsIgnoreCase("Invisibles")) {
							if (args[2].equalsIgnoreCase("true") || args[2].equalsIgnoreCase("false")) {
								Client.setmgr.getSettingByName(Client.getModule(KillAura.class), "Invisibles")
										.setValBoolean(Boolean.parseBoolean(args[2]));
								msg("§6KillAura " + (args[2].equalsIgnoreCase("true") ? "§2now" : "§cno longer")
										+ " §6attacks invisible Entitys!");
							}
						} else if (args[1].equalsIgnoreCase("idcheck")) {
							if (args[2].equalsIgnoreCase("true") || args[2].equalsIgnoreCase("false")) {
								Client.setmgr.getSettingByName(Client.getModule(KillAura.class), "IDCheck")
										.setValBoolean(Boolean.parseBoolean(args[2]));
								msg("§6KillAura " + (args[2].equalsIgnoreCase("true") ? "§2now" : "§cno longer")
										+ " §6checks for Entity-IDs!");
							}
						} else if (args[1].equalsIgnoreCase("hurt")) {
							if (args[2].equalsIgnoreCase("true") || args[2].equalsIgnoreCase("false")) {
								Client.setmgr.getSettingByName(Client.getModule(KillAura.class), "HurtCheck")
										.setValBoolean(Boolean.parseBoolean(args[2]));
								msg("§6KillAura " + (args[2].equalsIgnoreCase("true") ? "§2now" : "§cno longer")
										+ " §6checks for Hurt-Time!");
							}
						} else if (args[1].equalsIgnoreCase("yaw")) {
							if (MiscUtils.isFloat(args[2])
									&& Float.parseFloat(args[2]) >= Client.setmgr
											.getSettingByName(Client.getModule(KillAura.class), "Yaw").getMin()
									&& Float.parseFloat(args[2]) <= Client.setmgr
											.getSettingByName(Client.getModule(KillAura.class), "Yaw").getMax()) {
								Client.setmgr.getSettingByName(Client.getModule(KillAura.class), "Yaw")
										.setValFloat(Float.parseFloat(args[2]));
								msg("§6KillAura's Yaw-Change set to " + args[2] + " §6!");
							} else if (!MiscUtils.isFloat(args[2])) {
								msg("§cThis is not a number!");
							} else if (!(Float.parseFloat(args[2]) >= Client.setmgr
									.getSettingByName(Client.getModule(KillAura.class), "Yaw").getMin()
									&& Float.parseFloat(args[2]) <= Client.setmgr
											.getSettingByName(Client.getModule(KillAura.class), "Yaw").getMax())) {
								msg("§cSpecify a number between 0 and 360!");
							} else {
								msg("§cSomething went wrong! :c");
							}
						} else if (args[1].equalsIgnoreCase("Pitch")) {
							if (MiscUtils.isFloat(args[2])
									&& Float.parseFloat(args[2]) >= Client.setmgr
											.getSettingByName(Client.getModule(KillAura.class), "Pitch").getMin()
									&& Float.parseFloat(args[2]) <= Client.setmgr
											.getSettingByName(Client.getModule(KillAura.class), "Pitch").getMax()) {
								Client.setmgr.getSettingByName(Client.getModule(KillAura.class), "Pitch")
										.setValFloat(Float.parseFloat(args[2]));
								msg("§6KillAura's Pitch-Change set to " + args[2] + " §6!");
							} else if (!MiscUtils.isFloat(args[2])) {
								msg("§cThis is not a number!");
							} else if (!(Float.parseFloat(args[2]) >= Client.setmgr
									.getSettingByName(Client.getModule(KillAura.class), "Pitch").getMin()
									&& Float.parseFloat(args[2]) <= Client.setmgr
											.getSettingByName(Client.getModule(KillAura.class), "Pitch").getMax())) {
								msg("§cSpecify a number between 0 and 360!");
							} else {
								msg("§cSomething went wrong! :(");
							}
						}

					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				} else {
					msg("§6KillAura-Modes: §4Player [true/false], Mobs [true/false], Face/Facing [Client/Packet], Invisible [true/false],"
							+ " IDCheck [true/false], Hurt [true/false], yaw/pitch [VALUE]");
				}
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "login")) {
				if (cmd.length != 1) {
					try {
						String displayText;
						final String[] args = chatMessage.split(" ");
						final Logger logger = LogManager.getLogger();
						if (args.length == 3) {
							final YggdrasilAuthenticationService authenticationService = new YggdrasilAuthenticationService(
									Proxy.NO_PROXY, "");
							final YggdrasilUserAuthentication authentication2 = (YggdrasilUserAuthentication) authenticationService
									.createUserAuthentication(Agent.MINECRAFT);
							authentication2.setUsername(args[1]);
							authentication2.setPassword(args[2]);
							try {
								authentication2.logIn();

								Minecraft.session = new Session(authentication2.getSelectedProfile().getName(),
										authentication2.getSelectedProfile().getId().toString(),
										authentication2.getAuthenticatedToken(), "mojang");
								displayText = "§2§lSuccessfully logged in!";
							} catch (final AuthenticationUnavailableException e) {
								displayText = "§4§lLogin Servers are down!";
							} catch (final AuthenticationException e) {
								displayText = e.getMessage().contains("§4§lUser or Password incorrect.")
										|| e.getMessage().toLowerCase().contains("account migrated")
												? "§4§lPassword incorrect!"
												: "§4§lUser or Password incorrect. §r§c(Maybe you are Mojang Banned!)";
								logger.error(e.getMessage());
							} catch (final NullPointerException e) {
								displayText = "§4§lPassword incorrect!";
							}
							if (displayText.equals("§2§lSuccessfully logged in!")) {
								sendQueue.handleDisconnect(
										new S40PacketDisconnect(new ChatComponentText("§2Logged in as §6"
												+ Minecraft.session.getUsername() + " §2! §4Please reconnect!")));
							} else {
								addChatMessage(new ChatComponentText(displayText));
							}
						}
						if (args.length == 2) {
							final String[] argsw = args[1].split(":");
							final YggdrasilAuthenticationService authenticationService = new YggdrasilAuthenticationService(
									Proxy.NO_PROXY, "");
							final YggdrasilUserAuthentication authentication2 = (YggdrasilUserAuthentication) authenticationService
									.createUserAuthentication(Agent.MINECRAFT);
							authentication2.setUsername(argsw[0]);
							authentication2.setPassword(argsw[1]);
							try {
								authentication2.logIn();

								Minecraft.session = new Session(authentication2.getSelectedProfile().getName(),
										authentication2.getSelectedProfile().getId().toString(),
										authentication2.getAuthenticatedToken(), "mojang");
								displayText = "§2§lSuccessfully logged in!";
							} catch (final AuthenticationUnavailableException e) {
								displayText = "§4§lLogin Servers are down!";
							} catch (final AuthenticationException e) {
								displayText = e.getMessage().contains("§4§lUser or Password incorrect.")
										|| e.getMessage().toLowerCase().contains("account migrated")
												? "§4§lPassword incorrect!"
												: "§4§lUser or Password incorrect. §r§c(Maybe you are Mojang Banned!)";
								logger.error(e.getMessage());
							} catch (final NullPointerException e) {
								displayText = "§4§lPassword incorrect!";
							}
							if (displayText.equals("§2§lSuccessfully logged in!")) {
								sendQueue.handleDisconnect(
										new S40PacketDisconnect(new ChatComponentText("§2Logged in as §6"
												+ Minecraft.session.getUsername() + " §2! §4Please reconnect!")));
							} else {
								addChatMessage(new ChatComponentText(displayText));
							}
						}
					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				} else {
					msg("§6Syntax: §4login [NAME] [PASSWORD], login [NAME]:[PASSWORD]");
				}
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "say")) {
				if (cmd.length != 1) {
					try {
						final String[] args = chatMessage.split(" ");
						String message = args[1];
						int i = 1;
						while (++i < args.length) {
							message = String.valueOf(message) + " " + args[i];
						}
						sendQueue.addToSendQueue(new C01PacketChatMessage(message));
					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				} else {
					msg("§6Syntax: §2say [MSG]");
				}
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "strafe")) {
				if (cmd.length != 1) {
					try {
						final String[] args = chatMessage.split(" ");
						final Float val5 = Float.valueOf(Float.parseFloat(args[1]));
						Client.setmgr.getSettingByName(Client.getModule(Strafe.class), "Speed").setValFloat(val5);
						msg("§6Strafe-Speed set to §4" + val5 + " §6.");
					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				} else {
					msg("§6Strafe-Speed: §4"
							+ Client.setmgr.getSettingByName(Client.getModule(Strafe.class), "Speed").getValFloat());
				}
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "phase")) {
				if (cmd.length != 1) {
					try {
						final String[] args = chatMessage.split(" ");
						if (args[1].equalsIgnoreCase("new")) {
							Client.setmgr.getSettingByName(Client.getModule(Phase.class), "Mode").setValString("NEW");
							msg("§6Phase set to NEW!");
						}
						if (args[1].equalsIgnoreCase("skip")) {
							Client.setmgr.getSettingByName(Client.getModule(Phase.class), "Mode").setValString("SKIP");
							msg("§6Phase set to SKIP!");
						}
					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				} else {
					msg("§6Phase-Modes: §4NEW, SKIP");
				}
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "name")) {
				if (cmd.length != 1) {
					try {
						final String[] args = chatMessage.split(" ");
						LoginManager.changeCrackedName(args[1]);
						sendQueue.handleDisconnect(new S40PacketDisconnect(new ChatComponentText(
								"§2Logged in as §6" + Minecraft.session.getUsername() + " §2! §4Please reconnect!")));
					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				} else {
					msg("§6Syntax: §2name [Cracked-Name]");
				}
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "ghost")) {
				if (cmd.length != 1) {
					try {
						final String[] args = chatMessage.split(" ");
						if (args[1].equalsIgnoreCase("add")) {
							if (MiscUtils.isInteger(args[2])) {
								if (Block.getIdFromBlock(Block.getBlockFromName(args[2])) == 0) {
									return;
								}
								GhostHand.ids.add(Integer.parseInt(args[2]));
								msg("§2Added §6" + (Block.getBlockById(Integer.parseInt(args[2])).getLocalizedName()
										.contains("tile.")
												? Block.getBlockById(Integer.parseInt(args[2])).getLocalizedName()
														.replace("tile.", "").replace(".name", "")
												: Block.getBlockById(Integer.parseInt(args[2])).getLocalizedName())
										+ " §c(" + Block.getIdFromBlock(Block.getBlockFromName(args[2])) + ")§2.");
							} else {
								GhostHand.ids.add(Block.getIdFromBlock(Block.getBlockFromName(args[2])));
								msg("§2Added §6"
										+ (Block.getBlockFromName(args[2]).getLocalizedName().contains("tile.")
												? Block.getBlockFromName(args[2]).getLocalizedName()
														.replace("tile.", "").replace(".name", "")
												: Block.getBlockFromName(args[2]).getLocalizedName())
										+ " §c(" + Block.getIdFromBlock(Block.getBlockFromName(args[2])) + ")§2.");
							}
						}
						if (args[1].equalsIgnoreCase("remove")) {
							if (MiscUtils.isInteger(args[2])) {
								if (Block.getIdFromBlock(Block.getBlockFromName(args[2])) == 0) {
									return;
								}
								final List<Integer> idsbefore = new ArrayList<>();
								for (final int i : GhostHand.ids) {
									idsbefore.add(i);
								}
								GhostHand.ids.clear();
								for (final int i : idsbefore) {
									if (!(i == Integer.parseInt(args[2]))) {
										GhostHand.ids.add(i);
									}
								}
								msg("§2Removed §6" + (Block.getBlockById(Integer.parseInt(args[2])).getLocalizedName()
										.contains("tile.")
												? Block.getBlockById(Integer.parseInt(args[2])).getLocalizedName()
														.replace("tile.", "").replace(".name", "")
												: Block.getBlockById(Integer.parseInt(args[2])).getLocalizedName())
										+ " §c(" + Block.getIdFromBlock(Block.getBlockFromName(args[2])) + ")§2.");
							} else {
								final List<Integer> idsbefore = new ArrayList<>();
								for (final int i : GhostHand.ids) {
									idsbefore.add(i);
								}
								GhostHand.ids.clear();
								for (final int i : idsbefore) {
									if (!(Block.getIdFromBlock(Block.getBlockFromName(args[2])) == i)) {
										GhostHand.ids.add(i);
									}
								}
								msg("§2Removed §6"
										+ (Block.getBlockFromName(args[2]).getLocalizedName().contains("tile.")
												? Block.getBlockFromName(args[2]).getLocalizedName()
														.replace("tile.", "").replace(".name", "")
												: Block.getBlockFromName(args[2]).getLocalizedName())
										+ " §c(" + Block.getIdFromBlock(Block.getBlockFromName(args[2])) + ")§2.");
							}
						}
						if (args[1].equalsIgnoreCase("reset")) {
							GhostHand.ids.clear();
							GhostHand.ids.add(54);
							GhostHand.ids.add(130);
							GhostHand.ids.add(146);
							GhostHand.ids.add(58);
							GhostHand.ids.add(145);
							GhostHand.ids.add(154);
							GhostHand.ids.add(26);
						}
						if (args[1].equalsIgnoreCase("list")) {
							for (final int i : GhostHand.ids) {
								msg("§6" + (Block.getBlockById(i).getLocalizedName().contains("tile.") ? Block
										.getBlockById(i).getLocalizedName().replace("tile.", "").replace(".name", "")
										: Block.getBlockById(i).getLocalizedName()));
							}
						}
					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				} else {
					msg("§6Syntax: §2ghost add [ID/Name] / remove [ID/Name]/ reset / list]");
				}
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "server")) {
				if (cmd.length == 1) {
					try {
						msg("§4IP: §7" + mc.getCurrentServerData().serverIP);
						msg("§4MOTD: §7" + mc.getCurrentServerData().serverMOTD);
						msg("§4Version: §7" + mc.getCurrentServerData().gameVersion);
						msg("§4-server [IP/MOTD/Version] to copy to ClipBoard!");
					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				} else {
					try {
						final String[] args = chatMessage.split(" ");
						if (args[1].equalsIgnoreCase("ip")) {
							msg("§4IP: §7" + mc.getCurrentServerData().serverIP + " §6§lCOPIED!");
							EntityPlayerSP.copyToClipborad(mc.getCurrentServerData().serverIP);
						}
						if (args[1].equalsIgnoreCase("motd")) {
							msg("§4MOTD: §7" + mc.getCurrentServerData().serverMOTD + " §6§lCOPIED!");
							EntityPlayerSP.copyToClipborad(mc.getCurrentServerData().serverMOTD);
						}
						if (args[1].equalsIgnoreCase("version")) {
							EntityPlayerSP
									.msg("§4Version: §7" + mc.getCurrentServerData().gameVersion + " §6§lCOPIED!");
							EntityPlayerSP.copyToClipborad(mc.getCurrentServerData().gameVersion);
						}
					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				}
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "pl")
					|| cmd[0].equalsIgnoreCase(Configs.commandPrefix + "plugins")) {
				try {
					for (final Module mod : Client.getModules()) {
						if (!mod.getName().equals("Plugins")) {
							continue;
						}
						mod.toggle();
					}
				} catch (final Exception exception) {
					msg("§4Error: §c" + exception.toString());
				}
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "spec")
					|| cmd[0].equalsIgnoreCase(Configs.commandPrefix + "spectate")) {
				if (cmd.length != 1) {
					try {
						final String[] args = chatMessage.split(" ");

						if (args[1].equalsIgnoreCase(Minecraft.thePlayer.getName())) {
							msg("§cWhy would you spectate yourself?! LOL");
							return;
						}

						for (final Object o : Minecraft.theWorld.loadedEntityList) {
							if (!(o instanceof EntityPlayer)) {
								continue;
							}
							final EntityPlayer ep = (EntityPlayer) o;
							if (ep.getName().equalsIgnoreCase(args[1])) {
								Minecraft.getMinecraft().func_175607_a(ep);
								msg("§6Now Spectating §5" + args[1] + "§6.");
								isSpectating = true;
								return;
							}
						}
						msg("§cThis player can not be spectated. (Maybe too far away)");
					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				} else {
					if (!isSpectating) {
						msg("§4Syntax: §6spec [Name]");
					}
					Minecraft.getMinecraft().func_175607_a(Minecraft.thePlayer);
					isSpectating = false;
				}
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "step")) {
				if (cmd.length != 1) {
					try {
						final String[] args = chatMessage.split(" ");
						try {
							Client.setmgr.getSettingByName(Client.getModule(Step.class), "Height")
									.setValFloat(Float.parseFloat(args[1].replace(",", ".")));
							msg("§6Step-Height set to §7" + args[1] + "§6.");
						} catch (final NumberFormatException e) {
							msg("§7" + args[1] + " §6is not a Number.");
						}
					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				} else {
					msg("§6Syntax: §2step [Step-Height]");
				}
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "speed")) {
				if (cmd.length != 1) {
					try {
						final String[] args = chatMessage.split(" ");
						for (final Module m : Client.getModules(Category.SPEED)) {
							if (m.getName().equalsIgnoreCase(args[1])) {
								Client.setmgr.getSettingByName(Client.getModule(Speed.class), "Mode")
										.setValString(m.getName());
								Speed.updateMode();
								msg("§2Speed-Mode updated to §6" + m.getName());
								return;
							}
						}

						String message = "";
						for (final String str : Speed.modes) {
							message = message.isEmpty() ? String.valueOf(String.valueOf(message)) + "§a" + str
									: String.valueOf(String.valueOf(message)) + "§8, §a" + str;
						}
						message = "§6Speed-Modes§7: " + message;
						msg(message);

						// if (Speed.modes.contains(args[1].toLowerCase())) {
						// Client.getValues().Speed_mode.setValue(args[1].toLowerCase());
						// Speed.updateMode();
						// msg("§2Speed-Mode updated to §6" +
						// args[1].toUpperCase());
						// }
					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				} else {
					String message = "";
					for (final String str : Speed.modes) {
						message = message.isEmpty() ? String.valueOf(String.valueOf(message)) + "§a" + str
								: String.valueOf(String.valueOf(message)) + "§8, §a" + str;
					}
					message = "§6Speed-Modes§7: " + message;
					msg(message);
				}
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "spammer")) {
				if (cmd.length != 1) {
					try {
						final String[] args = chatMessage.split(" ");

						if (args[1].equalsIgnoreCase("delay")) {
							if (args.length == 2) {
								msg("§6Spammer-Delay is §2" + Spammer.delaySetting / 20 + " §6seconds.");
							} else {
								Spammer.delaySetting = (int) (Float.parseFloat(args[2]) * 20);
								FileManager.saveSpammer();
								msg("§6Spammer-Delay set to §2" + args[2] + " §6seconds.");
							}
						} else if (args[1].equalsIgnoreCase("bypass")) {
							if (args.length < 3) {
								msg("§6Syntax: §2spammer bypass [true/false]");
								return;
							}
							if (args[2].equalsIgnoreCase("false") || args[2].equalsIgnoreCase("true")) {
								Spammer.aacbypass = Boolean.parseBoolean(args[2]);
								msg("§6AAC-ByPass now §2" + (Spammer.aacbypass ? "enabled" : "disabled"));
							} else {
								msg("§6Syntax: §2spammer bypass [true/false]");
							}
						} else if (args[1].equalsIgnoreCase("msg")) {
							String msg = "";
							for (final String str : args) {
								if (!str.equalsIgnoreCase(Configs.commandPrefix + "spammer")
										&& !str.equalsIgnoreCase("msg")) {
									msg = msg.isEmpty() ? str : msg + " " + str;
								}
							}
							Spammer.msg = msg;
							FileManager.saveSpammer();
							msg("§6Spammer-MSG set to §2" + msg);
						} else {
							msg("§6Syntax: §2spammer [delay [DELAY] / bypass [true/false] / msg [MESSAGE]]");
						}

					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				} else {
					msg("§6Syntax: §2spammer [delay [DELAY] / bypass [true/false] / msg [MESSAGE]]");
					msg("§6Current Message: §2" + Spammer.msg);
				}
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "bind")) {
				if (cmd.length != 1) {
					try {
						final String[] args = chatMessage.split(" ");

						if (args.length == 2
								&& (args[1].equalsIgnoreCase("clear") || args[1].equalsIgnoreCase("clearall"))) {
							for (final Module mod : Client.getModules()) {
								mod.keyCode = 0;
							}
							FileManager.saveKeybinds();
							msg("§2Unbound all Keys.");
							return;
						}

						String modName = "";
						String keyName = "";
						if (args.length > 1) {
							modName = args[1];
							if (args.length > 2) {
								keyName = args[2];
							}
						}
						final Module module = Client.getModule(modName);
						if (module == null) {
							msg("No Module named " + modName + ".");
							return;
						}
						if (keyName == "") {
							msg(module.name + "'s KeyBind has been cleared.");
							module.keyCode = 0;
							FileManager.saveKeybinds();
							return;
						}
						module.keyCode = Keyboard.getKeyIndex(keyName.toUpperCase());
						FileManager.saveKeybinds();
						if (Keyboard.getKeyIndex(keyName.toUpperCase()) == 0) {
							msg("Invalid Key! KeyBind cleared.");
						} else {
							msg(module.name + " bound to " + keyName);

							String mods = "";
							for (final Module mod : Client.getModules()) {
								if (mod.getKeyCode() == Keyboard.getKeyIndex(keyName.toUpperCase())
										&& !mod.getName().equals(module.name)) {
									if (mods.equals("")) {
										mods = "§cWARNING: §a" + mod.getName();
									} else {
										mods = mods + ", " + mod.getName();
									}
								}
							}
							if (!mods.equals("")) {
								mods = mods + (mods.split(", ").length != 1 ? " §chave " : " §chas ")
										+ "the same keybind!";
								msg(mods);
							}
						}

					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				} else {
					msg("§6Syntax: §2bind [module] [key]; bind clear/clearall");
				}
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "team")) {
				if (cmd.length != 1) {
					try {
						final String[] args = chatMessage.split(" ");

						Team.color = EnumChatFormatting.getValueByName(args[1]);
						msg("§6Team Color set to " + args[1]);

					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				} else {
					msg("§6Syntax: §2team [Color]");
				}
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "prefix")) {
				if (cmd.length != 1) {
					try {
						final String[] args = chatMessage.split(" ");

						if (args[1].equals("*")) {
							msg("§cYou can not use * as prefix.");
							return;
						}
						Configs.commandPrefix = args[1];
						FileManager.saveMain();
						msg("§6Command Prefix set to §2" + args[1]);

					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				} else {
					msg("§6Syntax: §2prefix [Command-Prefix]");
				}
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "backport")) {
				if (cmd.length != 1) {
					try {
						final String[] args = chatMessage.split(" ");

						Client.setmgr.getSettingByName(Client.getModule(BackPort.class), "maxFallDistance")
								.setValFloat(Float.parseFloat(args[1].replace(",", ".")));
						msg("§6BackPort Fall-Distance set to §2" + args[1]);

					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				} else {
					msg("§6Syntax: §2backport [max. Fall-Distance]");
				}
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "give")) {
				if (cmd.length != 1) {
					try {
						final String[] args = chatMessage.split(" ");

						if (!Minecraft.thePlayer.capabilities.isCreativeMode) {
							msg("§cCreative Mode only!");
							return;
						}

						if (Minecraft.thePlayer.inventory.getStackInSlot(0) != null) {
							msg("§cPlease clear the first slot in your hotbar.");
							return;
						}

						final EntityPlayer var3 = this;
						final Item var4 = getItemByText(args[1]);
						final int var5 = args.length >= 3 ? parseInt(args[2], 1, 64) : 1;
						final int var6 = args.length >= 4 ? Integer.parseInt(args[3]) : 0;
						final ItemStack var7 = new ItemStack(var4, var5, var6);
						if (var4 == null) {
							return;
						}

						if (args.length >= 5) {
							final String var8 = getChatComponentFromNthArg(var3, args, 4, false).getUnformattedText();

							try {
								var7.setTagCompound(JsonToNBT.func_180713_a(var8));
							} catch (final NBTException var10) {
								msg("§cAn Error with the NBT Tags occured.");
							}
						}

						sendQueue.addToSendQueue(new C10PacketCreativeInventoryAction(36, var7));

						var3.worldObj.playSoundAtEntity(var3, "random.pop", 0.2F,
								((var3.getRNG().nextFloat() - var3.getRNG().nextFloat()) * 0.7F + 1.0F) * 2.0F);
						var3.inventoryContainer.detectAndSendChanges();

						EntityItem var9;

						if (var7.stackSize <= 0) {
							var7.stackSize = 1;
							var3.func_174794_a(CommandResultStats.Type.AFFECTED_ITEMS, var5);
							var9 = var3.dropPlayerItemWithRandomChoice(var7, false);

							if (var9 != null) {
								var9.func_174870_v();
							}
						} else {
							var3.func_174794_a(CommandResultStats.Type.AFFECTED_ITEMS, var5 - var7.stackSize);
							var9 = var3.dropPlayerItemWithRandomChoice(var7, false);

							if (var9 != null) {
								var9.setNoPickupDelay();
								var9.setOwner(var3.getName());
							}
						}

					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				} else {
					msg("§6Syntax: §2give [item] [amount] [data] [dataTag]");
					if (!Minecraft.thePlayer.capabilities.isCreativeMode) {
						msg("§4CREATIVE ONLY!");
					}
				}
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "nbtinfo")) {
				if (cmd.length == 1) {
					try {
						chatMessage.split(" ");

						msg(Minecraft.thePlayer.getCurrentEquippedItem().getTagCompound().toString());
						copyToClipborad(Minecraft.thePlayer.getCurrentEquippedItem().getTagCompound().toString());

					} catch (final NullPointerException enull) {
						if (Minecraft.thePlayer.getCurrentEquippedItem() != null) {
							msg("§4Error: §cThis Item has no NBT-Data!");
						} else {
							msg("§4Error: §cYou are not holding an item!");
						}
					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				} else {
					msg("§6Gives you Information about the current Item.");
				}
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "nbtedit")) {
				if (cmd.length != 1) {
					try {
						final String[] args = chatMessage.split(" ");

						final ItemStack var7 = Minecraft.thePlayer.getCurrentEquippedItem();
						if (var7 == null) {
							return;
						}

						final String var8 = getChatComponentFromNthArg(this, args, 1, false).getUnformattedText();

						try {
							Minecraft.thePlayer.getCurrentEquippedItem().setTagCompound(JsonToNBT.func_180713_a(var8));
							msg("§6NBT-Tags edited! §2" + var8);
						} catch (final NBTException var10) {
							msg("§cAn Error with the NBT Tags occured.");
						}

					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				} else {
					msg("§6Syntax: §2nbtedit [dataTag]");
					if (!Minecraft.thePlayer.capabilities.isCreativeMode) {
						msg("§4CREATIVE ONLY!");
					}
				}
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "cmdblock")) {
				if (cmd.length != 1) {
					try {
						final String[] args = chatMessage.split(" ");

						if (Minecraft.thePlayer.inventory.getStackInSlot(0) != null) {
							msg("§cPlease clear the first slot in your hotbar.");
							return;
						}
						if (!Minecraft.thePlayer.capabilities.isCreativeMode) {
							msg("§4CREATIVE ONLY!");
							return;
						}

						String message = args[1];
						int i = 1;
						while (++i < args.length) {
							message = String.valueOf(message) + " " + args[i];
						}
						createCmdBlock(message);

					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				} else {
					msg("§6Syntax: §2cmdblock [command]");
					if (!Minecraft.thePlayer.capabilities.isCreativeMode) {
						msg("§4CREATIVE ONLY!");
					}
				}
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "ping")) {
				if (cmd.length == 1) {
					try {
						for (final Object obj : Minecraft.getNetHandler().playerInfoMap.values()) {
							if (!(obj instanceof NetworkPlayerInfo)) {
								return;
							}
							final NetworkPlayerInfo player = (NetworkPlayerInfo) obj;
							if (!StringUtils.stripControlCodes(player.getGameProfile().getName())
									.equals(StringUtils.stripControlCodes(Minecraft.thePlayer.getName()))) {
								continue;
							}
							msg("§2Your ping is §c" + player.responseTime + "ms§2.");
							break;
						}
					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				} else {
					msg("§6Syntax: §2ping");
				}
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "fastweb")
					|| cmd[0].equalsIgnoreCase(Configs.commandPrefix + "fw")) {
				if (cmd.length != 1) {
					try {
						final String[] args = chatMessage.split(" ");

						if (MiscUtils.isDouble(args[1])) {
							Client.setmgr.getSettingByName(Client.getModule(FastWeb.class), "Speed")
									.setValFloat(Float.parseFloat(args[1].replace(",", ".")));
							msg("§6FastWeb-Speed set to §2" + Float.parseFloat(args[1].replace(",", ".")));
						} else {
							msg("§cThis is not a number!");
						}

					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				} else {
					msg("§6Syntax: §2fastweb [MULTIPLIER]");
				}
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "script")
					|| cmd[0].equalsIgnoreCase(Configs.commandPrefix + "s")) {
				if (cmd.length != 1) {
					try {
						final String[] args = chatMessage.split(" ");

						if (args[1].equalsIgnoreCase("Rewi") || args[1].equalsIgnoreCase("Rewinside")
								|| args[1].equalsIgnoreCase("R")) {
							for (final Category asd : Category.values()) {
								Client.disable(asd);
							}
							Client.setmgr.getSettingByName(Client.getModule(YesCheat.class), "Mode")
									.setValString("NCP");
							YesCheat.updateMode();
							YesCheat.mode = Mode.NCP;
							Client.enable("NoRotSet");
							Client.enable("YesCheat");
							Client.enable("NoKnockBack");
							Client.enable("InventoryWalk");
							Client.enable("AutoArmor");
							Client.enable("NoSlowdown");
							Client.enable("Step");

							Client.setmgr.getSettingByName(Client.getModule(AutoArmor.class), "Delay").setValFloat(5);
							Client.setmgr.getSettingByName(Client.getModule(Scaffold.class), "Expanded")
									.setValBoolean(false);
							Client.setmgr.getSettingByName(Client.getModule(NoKnockBack.class), "V").setValFloat(100);
							Client.setmgr.getSettingByName(Client.getModule(NoKnockBack.class), "H").setValFloat(0);
							Client.setmgr.getSettingByName(Client.getModule(KillAura.class), "Range").setValFloat(4.3f);
							Client.setmgr.getSettingByName(Client.getModule(KillAura.class), "HurtCheck")
									.setValBoolean(true);
							Client.setmgr.getSettingByName(Client.getModule(Speed.class), "Mode")
									.setValString("NCPRace");
							Client.setmgr.getSettingByName(Client.getModule(AutoArmor.class), "OnlyInventory")
									.setValBoolean(true);
							Client.setmgr.getSettingByName(Client.getModule(KillAura.class), "OnlyIngame")
									.setValBoolean(true);
							Client.setmgr.getSettingByName(Client.getModule(Step.class), "New").setValBoolean(true);
							Client.setmgr.getSettingByName(Client.getModule(KillAura.class), "RandomCPS")
									.setValBoolean(false);

							msg("§2Default Rewinside Settings loaded!");
						}

						if (args[1].equalsIgnoreCase("Hypixel") || args[1].equalsIgnoreCase("HyPxl")) {
							for (final Category asd : Category.values()) {
								Client.disable(asd);
							}
							Client.setmgr.getSettingByName(Client.getModule(YesCheat.class), "Mode")
									.setValString("NCP");
							YesCheat.updateMode();
							YesCheat.mode = Mode.NCP;
							Client.enable("NoRotSet");
							Client.enable("YesCheat");
							Client.enable("NoKnockBack");
							Client.enable("InventoryWalk");
							Client.enable("NoSlowdown");
							Client.enable("AutoArmor");
							Client.enable("NoFall");

							Client.setmgr.getSettingByName(Client.getModule(AutoArmor.class), "OnlyInventory")
									.setValBoolean(true);
							Client.setmgr.getSettingByName(Client.getModule(AutoArmor.class), "Delay").setValFloat(5);
							Client.setmgr.getSettingByName(Client.getModule(Scaffold.class), "Expanded")
									.setValBoolean(false);
							Client.setmgr.getSettingByName(Client.getModule(NoKnockBack.class), "V").setValFloat(0);
							Client.setmgr.getSettingByName(Client.getModule(NoKnockBack.class), "H").setValFloat(0);
							Client.setmgr.getSettingByName(Client.getModule(KillAura.class), "Range").setValFloat(4.3f);
							Client.setmgr.getSettingByName(Client.getModule(KillAura.class), "HurtCheck")
									.setValBoolean(false);
							Client.setmgr.getSettingByName(Client.getModule(Speed.class), "Mode").setValString("BHop");
							Client.setmgr.getSettingByName(Client.getModule(KillAura.class), "OnlyIngame")
									.setValBoolean(true);
							Client.setmgr.getSettingByName(Client.getModule(KillAura.class), "OnlyIngame")
									.setValBoolean(true);
							Client.setmgr.getSettingByName(Client.getModule(Step.class), "New").setValBoolean(false);
							Client.setmgr.getSettingByName(Client.getModule(KillAura.class), "RandomCPS")
									.setValBoolean(false);

							msg("§2Default Hypixel Settings loaded!");
						}

						if (args[1].equalsIgnoreCase("Gomme") || args[1].equalsIgnoreCase("G")) {
							for (final Category asd : Category.values()) {
								Client.disable(asd);
							}
							Client.setmgr.getSettingByName(Client.getModule(YesCheat.class), "Mode")
									.setValString("Gomme");
							YesCheat.updateMode();
							YesCheat.mode = Mode.Gomme;

							Client.enable("NoRotSet");
							Client.enable("YesCheat");
							Client.enable("NoKnockBack");
							Client.enable("AutoArmor");

							Client.setmgr.getSettingByName(Client.getModule(AutoArmor.class), "OnlyInventory")
									.setValBoolean(true);
							Client.setmgr.getSettingByName(Client.getModule(NoKnockBack.class), "V").setValFloat(70);
							Client.setmgr.getSettingByName(Client.getModule(NoKnockBack.class), "H").setValFloat(20);
							Client.setmgr.getSettingByName(Client.getModule(Scaffold.class), "Expanded")
									.setValBoolean(false);
							Client.setmgr.getSettingByName(Client.getModule(KillAura.class), "Range").setValFloat(4f);
							Client.setmgr.getSettingByName(Client.getModule(KillAura.class), "HurtCheck")
									.setValBoolean(false);
							Client.setmgr.getSettingByName(Client.getModule(Speed.class), "Mode")
									.setValString("GommeRace");
							Client.setmgr.getSettingByName(Client.getModule(KillAura.class), "OnlyIngame")
									.setValBoolean(false);
							Client.setmgr.getSettingByName(Client.getModule(KillAura.class), "RayTrace")
									.setValBoolean(true);
							Client.setmgr.getSettingByName(Client.getModule(KillAura.class), "RandomCPS")
									.setValBoolean(true);
							Client.setmgr.getSettingByName(Client.getModule(Step.class), "New").setValBoolean(true);

							msg("§2Default GommeHD/Gomme Settings loaded!");
						}
						if (args[1].equalsIgnoreCase("default") || args[1].equalsIgnoreCase("d")) {
							for (final Category asd : Category.values()) {
								Client.disable(asd);
							}
							Client.setmgr.getSettingByName(Client.getModule(YesCheat.class), "Mode")
									.setValString("ALL");
							YesCheat.updateMode();
							YesCheat.mode = Mode.ALL;
							Client.enable("NoRotSet");
							Client.enable("YesCheat");
							Client.enable("NoKnockBack");
							Client.enable("InventoryWalk");
							Client.enable("NoSlowdown");
							Client.enable("AutoArmor");

							Client.setmgr.getSettingByName(Client.getModule(Scaffold.class), "Expanded")
									.setValBoolean(false);
							Client.setmgr.getSettingByName(Client.getModule(NoKnockBack.class), "V").setValFloat(0);
							Client.setmgr.getSettingByName(Client.getModule(NoKnockBack.class), "H").setValFloat(0);
							Client.setmgr.getSettingByName(Client.getModule(KillAura.class), "Range").setValFloat(4.5f);

							Client.setmgr.getSettingByName(Client.getModule(Step.class), "Height").setValFloat(1.0f);
							Client.setmgr.getSettingByName(Client.getModule(KillAura.class), "HurtCheck")
									.setValBoolean(false);
							Client.setmgr.getSettingByName(Client.getModule(Speed.class), "Mode")
									.setValString("NCPRace");
							Client.setmgr.getSettingByName(Client.getModule(AutoArmor.class), "OnlyInventory")
									.setValBoolean(false);
							Client.setmgr.getSettingByName(Client.getModule(KillAura.class), "OnlyIngame")
									.setValBoolean(false);
							Client.setmgr.getSettingByName(Client.getModule(Step.class), "New").setValBoolean(false);
							Client.setmgr.getSettingByName(Client.getModule(KillAura.class), "RandomCPS")
									.setValBoolean(false);

							msg("§2Default Settings loaded!");
						}
						if (args[1].equalsIgnoreCase("mccentral") || args[1].equalsIgnoreCase("mcc")
								|| args[1].equalsIgnoreCase("mcz")) {
							for (final Category asd : Category.values()) {
								Client.disable(asd);
							}
							Client.setmgr.getSettingByName(Client.getModule(YesCheat.class), "Mode")
									.setValString("Gomme");
							YesCheat.updateMode();
							YesCheat.mode = Mode.Gomme;

							Client.enable("NoRotSet");
							Client.enable("YesCheat");
							Client.enable("NoKnockBack");
							Client.enable("InventoryWalk");
							Client.enable("AutoArmor");
							Client.enable("Step");

							Client.setmgr.getSettingByName(Client.getModule(Scaffold.class), "Expanded")
									.setValBoolean(false);
							Client.setmgr.getSettingByName(Client.getModule(NoKnockBack.class), "V").setValFloat(0);
							Client.setmgr.getSettingByName(Client.getModule(NoKnockBack.class), "H").setValFloat(0);
							Client.setmgr.getSettingByName(Client.getModule(KillAura.class), "Range").setValFloat(4f);
							Client.setmgr.getSettingByName(Client.getModule(KillAura.class), "HurtCheck")
									.setValBoolean(false);
							Client.setmgr.getSettingByName(Client.getModule(Speed.class), "Mode")
									.setValString("GommeBHop");
							Client.setmgr.getSettingByName(Client.getModule(AutoArmor.class), "OnlyInventory")
									.setValBoolean(false);
							Client.setmgr.getSettingByName(Client.getModule(KillAura.class), "OnlyIngame")
									.setValBoolean(false);
							Client.setmgr.getSettingByName(Client.getModule(KillAura.class), "RayTrace")
									.setValBoolean(true);
							Client.setmgr.getSettingByName(Client.getModule(KillAura.class), "RandomCPS")
									.setValBoolean(true);
							Client.setmgr.getSettingByName(Client.getModule(Step.class), "New").setValBoolean(true);

							msg("§2MCCentral Settings loaded!");
						}

					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				} else {
					msg("§6Syntax: §2script [Gomme/G] / [d/default] / [MCCentral/MCC/MCZ] / [Rewinside/Rewi/R] / [HyPixel]");
				}
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "fucker")) {
				if (cmd.length != 1) {
					try {
						final String[] args = chatMessage.split(" ");
						if (args[1].equalsIgnoreCase("add")) {
							if (MiscUtils.isInteger(args[2])) {
								if (Block.getIdFromBlock(Block.getBlockFromName(args[2])) == 0) {
									return;
								}
								Fucker.ids.add(Integer.parseInt(args[2]));
								msg("§2Added §6" + (Block.getBlockById(Integer.parseInt(args[2])).getLocalizedName()
										.contains("tile.")
												? Block.getBlockById(Integer.parseInt(args[2])).getLocalizedName()
														.replace("tile.", "").replace(".name", "")
												: Block.getBlockById(Integer.parseInt(args[2])).getLocalizedName())
										+ " §c(" + Block.getIdFromBlock(Block.getBlockFromName(args[2])) + ")§2.");
							} else {
								Fucker.ids.add(Block.getIdFromBlock(Block.getBlockFromName(args[2])));
								msg("§2Added §6"
										+ (Block.getBlockFromName(args[2]).getLocalizedName().contains("tile.")
												? Block.getBlockFromName(args[2]).getLocalizedName()
														.replace("tile.", "").replace(".name", "")
												: Block.getBlockFromName(args[2]).getLocalizedName())
										+ " §c(" + Block.getIdFromBlock(Block.getBlockFromName(args[2])) + ")§2.");
							}
						}
						if (args[1].equalsIgnoreCase("remove")) {
							if (MiscUtils.isInteger(args[2])) {
								if (Integer.parseInt(args[2]) == 0) {
									return;
								}
								final List<Integer> idsbefore = new ArrayList<>();
								for (final int i : Fucker.ids) {
									idsbefore.add(i);
								}
								Fucker.ids.clear();
								for (final int i : idsbefore) {
									if (!(i == Integer.parseInt(args[2]))) {
										Fucker.ids.add(i);
									}
								}
								msg("§2Removed §6" + (Block.getBlockById(Integer.parseInt(args[2])).getLocalizedName()
										.contains("tile.")
												? Block.getBlockById(Integer.parseInt(args[2])).getLocalizedName()
														.replace("tile.", "").replace(".name", "")
												: Block.getBlockById(Integer.parseInt(args[2])).getLocalizedName())
										+ " §c(" + Block.getIdFromBlock(Block.getBlockFromName(args[2])) + ")§2.");
							} else {
								final List<Integer> idsbefore = new ArrayList<>();
								for (final int i : Fucker.ids) {
									idsbefore.add(i);
								}
								Fucker.ids.clear();
								for (final int i : idsbefore) {
									if (!(Block.getIdFromBlock(Block.getBlockFromName(args[2])) == i)) {
										Fucker.ids.add(i);
									}
								}
								msg("§2Removed §6"
										+ (Block.getBlockFromName(args[2]).getLocalizedName().contains("tile.")
												? Block.getBlockFromName(args[2]).getLocalizedName()
														.replace("tile.", "").replace(".name", "")
												: Block.getBlockFromName(args[2]).getLocalizedName())
										+ " §c(" + Block.getIdFromBlock(Block.getBlockFromName(args[2])) + ")§2.");
							}
						}
						if (args[1].equalsIgnoreCase("reset")) {
							Fucker.ids.clear();
							Fucker.ids.add(26);
						}
						if (args[1].equalsIgnoreCase("list")) {
							for (final int i : Fucker.ids) {
								msg("§6" + (Block.getBlockById(i).getLocalizedName().contains("tile.") ? Block
										.getBlockById(i).getLocalizedName().replace("tile.", "").replace(".name", "")
										: Block.getBlockById(i).getLocalizedName()));
							}
						}
					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				} else {
					msg("§6Syntax: §2fucker add [ID/Name] / remove [ID/Name]/ reset / list");
				}
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "knockback")
					|| cmd[0].equalsIgnoreCase(Configs.commandPrefix + "kb")
					|| cmd[0].equalsIgnoreCase(Configs.commandPrefix + "nkb")
					|| cmd[0].equalsIgnoreCase(Configs.commandPrefix + "velocity")
					|| cmd[0].equalsIgnoreCase(Configs.commandPrefix + "novelocity")
					|| cmd[0].equalsIgnoreCase(Configs.commandPrefix + "noknockback")) {
				if (cmd.length != 1) {
					try {
						final String[] args = chatMessage.split(" ");

						if (args[1].equalsIgnoreCase("none")) {
							Client.setmgr.getSettingByName(Client.getModule(NoKnockBack.class), "H").setValFloat(0);
							Client.setmgr.getSettingByName(Client.getModule(NoKnockBack.class), "V").setValFloat(0);
							msg("§6NoKnockBack set to §2none");
							return;
						}

						if (MiscUtils.isInteger(args[2]) && (args[1].equalsIgnoreCase("v")
								|| args[1].equalsIgnoreCase("h") || args[1].equalsIgnoreCase("vertical")
								|| args[1].equalsIgnoreCase("horizontal"))) {
							if (Integer.parseInt(args[2]) <= 100 && Integer.parseInt(args[2]) >= 0) {
								if (args[1].equalsIgnoreCase("h") || args[1].equalsIgnoreCase("horizontal")) {
									Client.setmgr.getSettingByName(Client.getModule(NoKnockBack.class), "H")
											.setValFloat(Integer.parseInt(args[2]));
									msg("§6NoKnockBack-Horizontal set to §2" + args[2]);
								} else if (args[1].equalsIgnoreCase("v") || args[1].equalsIgnoreCase("vertical")) {

									Client.setmgr.getSettingByName(Client.getModule(NoKnockBack.class), "V")
											.setValFloat(Integer.parseInt(args[2]));
									msg("§6NoKnockBack-Vertical set to §2" + args[2]);
								} else {
									msg("§6Syntax: noknockback [h/horizontal/v/vertical] [Value]");
								}
							} else {
								msg("§6Specify a number between 0 and 100!");
							}
						} else {
							msg("§cSyntax: noknockback [h/horizontal/v/vertical] [Value]");
						}

					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				} else {
					msg("§6Syntax: §2noknockback [h/horizontal/v/vertical] [Value]");
				}
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "fix")) {
				if (cmd.length == 1) {
					try {

						EntityUtils.setLookChanged(false);

					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				} else {
					msg("§6Fixes some things if you bug.");
				}
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "bypass")
					|| cmd[0].equalsIgnoreCase(Configs.commandPrefix + "yescheat")
					|| cmd[0].equalsIgnoreCase(Configs.commandPrefix + "yc")) {
				if (cmd.length != 1) {
					try {
						final String[] args = chatMessage.split(" ");

						for (final Mode mode : YesCheat.Mode.values()) {
							if (mode.name().equalsIgnoreCase(args[1])) {
								Client.setmgr.getSettingByName(Client.getModule(YesCheat.class), "Mode")
										.setValString(mode.name());
								YesCheat.updateMode();
								msg("§2ByPass-Mode set to §6" + mode.name());
								return;
							}
						}

						msg("§6Syntax: §2bypass [ALL/AAC/NCP/Gomme]");

					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				} else {
					msg("§6Syntax: §2bypass [ALL/AAC/NCP/Gomme]");
				}
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "nameprotect")
					|| cmd[0].equalsIgnoreCase(Configs.commandPrefix + "np")) {
				if (cmd.length != 1) {
					try {
						final String[] args = chatMessage.split(" ");

						Client.setmgr.getSettingByName(Client.getModule(NameProtect.class), "Name")
								.setValString(args[1].replace("_", " "));
						msg("§2NameProtect-Name set to §6" + args[1].replace("_", " "));

					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				} else {
					msg("§6Syntax: §2nameprotect [Name]");
				}
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "nameprotect")
					|| cmd[0].equalsIgnoreCase(Configs.commandPrefix + "np")) {
				if (cmd.length != 1) {
					try {
						final String[] args = chatMessage.split(" ");

						Client.setmgr.getSettingByName(Client.getModule(NameProtect.class), "Name")
								.setValString(args[1].replace("_", " "));
						msg("§2NameProtect-Name set to §6" + args[1].replace("_", " "));

					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				} else {
					msg("§6Syntax: §2nameprotect [Name]");
				}
			} else if (cmd[0].equalsIgnoreCase(Configs.commandPrefix + "hide")) {
				if (cmd.length == 1) {
					try {

						Client.hide();
						msg("§2EaZy is now hidden! To show it again:");
						msg("§2Go to Options -> Click in the right, up corner!");
						msg("§2You should clear chat now!");

					} catch (final Exception exception) {
						msg("§4Error: §c" + exception.toString());
					}
				} else {
					msg("§6Syntax: §2hide");
				}
			} else {
				msg("§cThis command can not be found.");
			}

			// TODO

			InGameGUIHook.sort();
			FileManager.saveConfigs();
		} else {
			if (Smileys.active) {
				chatMessage = chatMessage.replace("<3", "\u2764");
				chatMessage = chatMessage.replace(":)", "\u263a");
				chatMessage = chatMessage.replace(":(", "\u2639");
				chatMessage = chatMessage.replace("(wither)", "\u268d");
				chatMessage = chatMessage.replace("(space)", "\u00a0");
				chatMessage = chatMessage.replace("(yes)", "\u2714");
				chatMessage = chatMessage.replace("(no)", "\u2718");
			}
			if (chatMessage.length() > 100) {
				chatMessage = chatMessage.substring(0, 100);
			}
			sendQueue.addToSendQueue(new C01PacketChatMessage(chatMessage));
		}

	}

	@Override
	public void moveEntity(final double x, final double y, final double z) {
		final EventMovePlayer event = new EventMovePlayer(x, y, z);
		EventManager.call(event);
		super.moveEntity(event.getX(), event.getY(), event.getZ());
	}

	public void createCmdBlock(final String cmd) {
		final ItemStack stack = new ItemStack(Blocks.command_block);
		final NBTTagCompound nbtTagCompound = new NBTTagCompound();
		nbtTagCompound.setTag("Command", new NBTTagString(cmd));
		stack.writeToNBT(nbtTagCompound);
		stack.setTagInfo("BlockEntityTag", nbtTagCompound);
		sendQueue.addToSendQueue(new C10PacketCreativeInventoryAction(36, stack));
		msg("§2Command Block created.");
	}

	public static IChatComponent getChatComponentFromNthArg(final ICommandSender sender, final String[] args,
			final int index, final boolean p_147176_3_) throws PlayerNotFoundException {
		final ChatComponentText var4 = new ChatComponentText("");

		for (int var5 = index; var5 < args.length; ++var5) {
			if (var5 > index) {
				var4.appendText(" ");
			}

			Object var6 = new ChatComponentText(args[var5]);

			if (p_147176_3_) {
				final IChatComponent var7 = PlayerSelector.func_150869_b(sender, args[var5]);

				if (var7 == null) {
					if (PlayerSelector.hasArguments(args[var5])) {
						msg("§cPlayer not found.");
					}
				} else {
					var6 = var7;
				}
			}

			var4.appendSibling((IChatComponent) var6);
		}

		return var4;
	}

	public static int parseInt(final String input, final int min, final int max) {
		final int var3 = Integer.parseInt(input);

		if (var3 < min) {
			msg("§cThis number is too small.");
			return 1;
		} else if (var3 > max) {
			msg("§cThis number is too big.");
			return 64;
		} else {
			return var3;
		}
	}

	public static Item getItemByText(final String id) {
		final ResourceLocation var2 = new ResourceLocation(id);
		Item var3;
		if (MiscUtils.isInteger(id)) {
			var3 = Item.getItemById(Integer.parseInt(id));
		} else {
			var3 = (Item) Item.itemRegistry.getObject(var2);
		}

		if (var3 == null) {
			msg("§cItem not found.");
			return null;
		} else {
			return var3;
		}
	}

	public static void msg(final String Message) {

		Minecraft.thePlayer.addChatMessage(new ChatComponentText(String.valueOf(Client.prefix) + Message));
	}

	public static void copyToClipborad(final String copyText) {
		GuiScreen.setClipboardString(copyText);
	}

	/**
	 * Swings the item the player is holding.
	 */
	@Override
	public void swingItem() {

		final EventSwingItem event = new EventSwingItem();
		EventManager.call(event);

		if (event.isCancelled()) {
			return;
		}

		super.swingItem();
		sendQueue.addToSendQueue(new C0APacketAnimation());
	}

	@Override
	public void respawnPlayer() {
		sendQueue.addToSendQueue(new C16PacketClientStatus(C16PacketClientStatus.EnumState.PERFORM_RESPAWN));
	}

	/**
	 * Deals damage to the entity. If its a EntityPlayer then will take damage
	 * from the armor first and then health second with the reduced value. Args:
	 * damageAmount
	 */
	@Override
	protected void damageEntity(final DamageSource p_70665_1_, final float p_70665_2_) {
		if (!func_180431_b(p_70665_1_)) {
			setHealth(getHealth() - p_70665_2_);
		}
	}

	/**
	 * set current crafting inventory back to the 2x2 square
	 */
	@Override
	public void closeScreen() {
		sendQueue.addToSendQueue(new C0DPacketCloseWindow(openContainer.windowId));
		func_175159_q();
	}

	public void func_175159_q() {
		inventory.setItemStack((ItemStack) null);
		super.closeScreen();
		mc.displayGuiScreen((GuiScreen) null);
	}

	/**
	 * Updates health locally.
	 */
	public void setPlayerSPHealth(final float p_71150_1_) {
		if (field_175169_bQ) {
			final float var2 = getHealth() - p_71150_1_;

			if (var2 <= 0.0F) {
				setHealth(p_71150_1_);

				if (var2 < 0.0F) {
					hurtResistantTime = maxHurtResistantTime / 2;
				}
			} else {
				lastDamage = var2;
				setHealth(getHealth());
				hurtResistantTime = maxHurtResistantTime;
				damageEntity(DamageSource.generic, var2);
				hurtTime = maxHurtTime = 10;
			}
		} else {
			setHealth(p_71150_1_);
			field_175169_bQ = true;
		}
	}

	/**
	 * Adds a value to a statistic field.
	 */
	@Override
	public void addStat(final StatBase p_71064_1_, final int p_71064_2_) {
		if (p_71064_1_ != null) {
			if (p_71064_1_.isIndependent) {
				super.addStat(p_71064_1_, p_71064_2_);
			}
		}
	}

	/**
	 * Sends the player's abilities to the server (if there is one).
	 */
	@Override
	public void sendPlayerAbilities() {
		sendQueue.addToSendQueue(new C13PacketPlayerAbilities(capabilities));
	}

	@Override
	public boolean func_175144_cb() {
		return true;
	}

	protected void sendHorseJump() {
		sendQueue.addToSendQueue(new C0BPacketEntityAction(this, C0BPacketEntityAction.Action.RIDING_JUMP,
				(int) (getHorseJumpPower() * 100.0F)));
	}

	public void func_175163_u() {
		sendQueue.addToSendQueue(new C0BPacketEntityAction(this, C0BPacketEntityAction.Action.OPEN_INVENTORY));
	}

	public void func_175158_f(final String p_175158_1_) {
		clientBrand = p_175158_1_;
	}

	public String getClientBrand() {
		return clientBrand;
	}

	public StatFileWriter getStatFileWriter() {
		return field_146108_bO;
	}

	@Override
	public void addChatComponentMessage(final IChatComponent p_146105_1_) {
		mc.ingameGUI.getChatGUI().printChatMessage(p_146105_1_);
	}

	@Override
	protected boolean pushOutOfBlocks(final double x, final double y, final double z) {
		if (noClip) {
			return false;
		} else {
			final BlockPos var7 = new BlockPos(x, y, z);
			final double var8 = x - var7.getX();
			final double var10 = z - var7.getZ();

			if (!func_175162_d(var7)) {
				byte var12 = -1;
				double var13 = 9999.0D;

				if (func_175162_d(var7.offsetWest()) && var8 < var13) {
					var13 = var8;
					var12 = 0;
				}

				if (func_175162_d(var7.offsetEast()) && 1.0D - var8 < var13) {
					var13 = 1.0D - var8;
					var12 = 1;
				}

				if (func_175162_d(var7.offsetNorth()) && var10 < var13) {
					var13 = var10;
					var12 = 4;
				}

				if (func_175162_d(var7.offsetSouth()) && 1.0D - var10 < var13) {
					var13 = 1.0D - var10;
					var12 = 5;
				}

				final float var15 = 0.1F;

				if (var12 == 0) {
					motionX = -var15;
				}

				if (var12 == 1) {
					motionX = var15;
				}

				if (var12 == 4) {
					motionZ = -var15;
				}

				if (var12 == 5) {
					motionZ = var15;
				}
			}

			return false;
		}
	}

	private boolean func_175162_d(final BlockPos p_175162_1_) {
		return !worldObj.getBlockState(p_175162_1_).getBlock().isNormalCube()
				&& !worldObj.getBlockState(p_175162_1_.offsetUp()).getBlock().isNormalCube();
	}

	/**
	 * Set sprinting switch for Entity.
	 */
	@Override
	public void setSprinting(final boolean sprinting) {
		super.setSprinting(sprinting);
		sprintingTicksLeft = sprinting ? 600 : 0;
	}

	/**
	 * Sets the current XP, total XP, and level number.
	 */
	public void setXPStats(final float p_71152_1_, final int p_71152_2_, final int p_71152_3_) {
		experience = p_71152_1_;
		experienceTotal = p_71152_2_;
		experienceLevel = p_71152_3_;
	}

	/**
	 * Notifies this sender of some sort of information. This is for messages
	 * intended to display to the user. Used for typical output (like "you asked
	 * for whether or not this game rule is set, so here's your answer" ),
	 * warnings (like "I fetched this block for you by ID, but I'd like you to
	 * know that every time you do this, I die a little inside "), and errors
	 * (like "it's not called iron_pixacke, silly").
	 */
	@Override
	public void addChatMessage(final IChatComponent message) {
		mc.ingameGUI.getChatGUI().printChatMessage(message);
	}

	/**
	 * Returns true if the command sender is allowed to use the given command.
	 */
	@Override
	public boolean canCommandSenderUseCommand(final int permissionLevel, final String command) {
		return permissionLevel <= 0;
	}

	@Override
	public BlockPos getPosition() {
		return new BlockPos(posX + 0.5D, posY + 0.5D, posZ + 0.5D);
	}

	@Override
	public void playSound(final String name, final float volume, final float pitch) {
		worldObj.playSound(posX, posY, posZ, name, volume, pitch, false);
	}

	/**
	 * Returns whether the entity is in a server world
	 */
	@Override
	public boolean isServerWorld() {
		return true;
	}

	public boolean isRidingHorse() {
		return ridingEntity != null && ridingEntity instanceof EntityHorse
				&& ((EntityHorse) ridingEntity).isHorseSaddled();
	}

	public float getHorseJumpPower() {
		return horseJumpPower;
	}

	@Override
	public void func_175141_a(final TileEntitySign p_175141_1_) {
		mc.displayGuiScreen(new GuiEditSign(p_175141_1_));
	}

	@Override
	public void func_146095_a(final CommandBlockLogic p_146095_1_) {
		mc.displayGuiScreen(new GuiCommandBlock(p_146095_1_));
	}

	/**
	 * Displays the GUI for interacting with a book.
	 */
	@Override
	public void displayGUIBook(final ItemStack bookStack) {
		final Item var2 = bookStack.getItem();

		if (var2 == Items.writable_book) {
			mc.displayGuiScreen(new GuiScreenBook(this, bookStack, true));
		}
	}

	/**
	 * Displays the GUI for interacting with a chest inventory. Args:
	 * chestInventory
	 */
	@Override
	public void displayGUIChest(final IInventory chestInventory) {
		final String var2 = chestInventory instanceof IInteractionObject
				? ((IInteractionObject) chestInventory).getGuiID() : "minecraft:container";

		if ("minecraft:chest".equals(var2)) {
			mc.displayGuiScreen(new GuiChest(inventory, chestInventory));
		} else if ("minecraft:hopper".equals(var2)) {
			mc.displayGuiScreen(new GuiHopper(inventory, chestInventory));
		} else if ("minecraft:furnace".equals(var2)) {
			mc.displayGuiScreen(new GuiFurnace(inventory, chestInventory));
		} else if ("minecraft:brewing_stand".equals(var2)) {
			mc.displayGuiScreen(new GuiBrewingStand(inventory, chestInventory));
		} else if ("minecraft:beacon".equals(var2)) {
			mc.displayGuiScreen(new GuiBeacon(inventory, chestInventory));
		} else if (!"minecraft:dispenser".equals(var2) && !"minecraft:dropper".equals(var2)) {
			mc.displayGuiScreen(new GuiChest(inventory, chestInventory));
		} else {
			mc.displayGuiScreen(new GuiDispenser(inventory, chestInventory));
		}
	}

	@Override
	public void displayGUIHorse(final EntityHorse p_110298_1_, final IInventory p_110298_2_) {
		mc.displayGuiScreen(new GuiScreenHorseInventory(inventory, p_110298_2_, p_110298_1_));
	}

	@Override
	public void displayGui(final IInteractionObject guiOwner) {
		final String var2 = guiOwner.getGuiID();

		if ("minecraft:crafting_table".equals(var2)) {
			mc.displayGuiScreen(new GuiCrafting(inventory, worldObj));
		} else if ("minecraft:enchanting_table".equals(var2)) {
			mc.displayGuiScreen(new GuiEnchantment(inventory, worldObj, guiOwner));
		} else if ("minecraft:anvil".equals(var2)) {
			mc.displayGuiScreen(new GuiRepair(inventory, worldObj));
		}
	}

	@Override
	public void displayVillagerTradeGui(final IMerchant villager) {
		mc.displayGuiScreen(new GuiMerchant(inventory, villager, worldObj));
	}

	/**
	 * Called when the player performs a critical hit on the Entity. Args:
	 * entity that was hit critically
	 */
	@Override
	public void onCriticalHit(final Entity p_71009_1_) {
		Minecraft.effectRenderer.spawnParticle(p_71009_1_, EnumParticleTypes.CRIT);
	}

	@Override
	public void onEnchantmentCritical(final Entity p_71047_1_) {
		Minecraft.effectRenderer.spawnParticle(p_71047_1_, EnumParticleTypes.CRIT_MAGIC);
	}

	/**
	 * Returns if this entity is sneaking.
	 */
	@Override
	public boolean isSneaking() {
		final boolean var1 = movementInput != null ? movementInput.sneak : false;
		return var1 && !sleeping;
	}

	@Override
	public void updateEntityActionState() {
		super.updateEntityActionState();

		if (func_175160_A()) {
			moveStrafing = movementInput.moveStrafe;
			moveForward = movementInput.moveForward;
			isJumping = movementInput.jump;
			prevRenderArmYaw = renderArmYaw;
			prevRenderArmPitch = renderArmPitch;
			renderArmPitch = (float) (renderArmPitch + (rotationPitch - renderArmPitch) * 0.5D);
			renderArmYaw = (float) (renderArmYaw + (rotationYaw - renderArmYaw) * 0.5D);
		}
	}

	public double distanceToGround() {
		if (onGround) {
			return 0;
		}
		return posY - groundY;
	}

	public int lowestBlock() {

		for (int i = 0; i < 255; i++) {
			if (Minecraft.theWorld
					.canBlockSeeSky(new BlockPos(Minecraft.thePlayer.posX, i, Minecraft.thePlayer.posZ))) {
				return i;
			} else {
				continue;
			}
		}

		return -1;
	}

	protected boolean func_175160_A() {
		return mc.func_175606_aa() == this;
	}

	/**
	 * Called frequently so the entity can update its state every tick as
	 * required. For example, zombies and skeletons use this to react to
	 * sunlight and start to burn.
	 */
	@Override
	public void onLivingUpdate() {

		realPosY = boundingBox.minY;

		if (Minecraft.currentScreen != null && Minecraft.currentScreen instanceof ClickGUI) {
			final KeyBinding[] moveKeys = new KeyBinding[] { Minecraft.gameSettings.keyBindForward,
					Minecraft.gameSettings.keyBindBack, Minecraft.gameSettings.keyBindLeft,
					Minecraft.gameSettings.keyBindRight, Minecraft.gameSettings.keyBindJump,
					Minecraft.gameSettings.keyBindSprint, Minecraft.gameSettings.keyBindSneak };
			final KeyBinding[] arrkeyBinding = moveKeys;
			final int n = arrkeyBinding.length;
			int n2 = 0;
			while (n2 < n && arrkeyBinding[n2] != null) {
				try {
					final KeyBinding bind = arrkeyBinding[n2];
					bind.pressed = Keyboard.isKeyDown(bind.getKeyCode());
				} catch (final Exception e) {
					e.printStackTrace();
				}
				++n2;
			}
		}

		if (Client.isToggled(ILikeParticles.class)) {
			for (int var1 = 0; var1 < 5; ++var1) {
				worldObj.spawnParticle(EnumParticleTypes.PORTAL, posX + (rand.nextDouble() - 0.5D) * width, posY - 0.5,
						posZ + (rand.nextDouble() - 0.5D) * width, (rand.nextDouble() - 0.5D) / 2.0D, 0,
						(rand.nextDouble() - 0.5D) / 2.0D, new int[0]);
			}
			if (!onGround & !isInWater() & !isInWeb) {
				for (int var1 = 0; var1 < 3; ++var1) {
					worldObj.spawnParticle(EnumParticleTypes.CLOUD, posX + (rand.nextDouble() - 0.5D) * width, posY,
							posZ + (rand.nextDouble() - 0.5D) * width, (rand.nextDouble() - 0.5D) / 2.0D, -0.5,
							(rand.nextDouble() - 0.5D) / 2.0D, new int[0]);
				}
			}
		}
		if (onGround) {
			groundY = posY;
		}
		Client.onUpdate();

		final EventUpdate event = new EventUpdate();
		EventManager.call(event);

		if (Configs.noBob) {
			Minecraft.thePlayer.distanceWalkedModified = 0.0F;
		}

		if (onGround) {
			groundY = posY;
		}
		if (sprintingTicksLeft > 0) {
			--sprintingTicksLeft;

			if (sprintingTicksLeft == 0) {
				setSprinting(false);
			}
		}

		if (sprintToggleTimer > 0) {
			--sprintToggleTimer;
		}

		prevTimeInPortal = timeInPortal;

		if (inPortal) {
			if (Minecraft.currentScreen != null && !Minecraft.currentScreen.doesGuiPauseGame()) {
				mc.displayGuiScreen((GuiScreen) null);
			}

			if (timeInPortal == 0.0F) {
				mc.getSoundHandler().playSound(PositionedSoundRecord.createPositionedSoundRecord(
						new ResourceLocation("portal.trigger"), rand.nextFloat() * 0.4F + 0.8F));
			}

			timeInPortal += 0.0125F;

			if (timeInPortal >= 1.0F) {
				timeInPortal = 1.0F;
			}

			inPortal = false;
		} else if (this.isPotionActive(Potion.confusion)
				&& getActivePotionEffect(Potion.confusion).getDuration() > 60) {
			timeInPortal += 0.006666667F;

			if (timeInPortal > 1.0F) {
				timeInPortal = 1.0F;
			}
		} else {
			if (timeInPortal > 0.0F) {
				timeInPortal -= 0.05F;
			}

			if (timeInPortal < 0.0F) {
				timeInPortal = 0.0F;
			}
		}

		if (timeUntilPortal > 0) {
			--timeUntilPortal;
		}

		final boolean var1 = movementInput.jump;
		final boolean var2 = movementInput.sneak;
		final float var3 = 0.8F;
		final boolean var4 = movementInput.moveForward >= var3;
		movementInput.updatePlayerMoveState();

		if (isUsingItem() && !isRiding() && !Client.isToggled(NoSlowdown.class)) {
			movementInput.moveStrafe *= 0.2F;
			movementInput.moveForward *= 0.2F;
			sprintToggleTimer = 0;
		}

		pushOutOfBlocks(posX - width * 0.35D, getEntityBoundingBox().minY + 0.5D, posZ + width * 0.35D);
		pushOutOfBlocks(posX - width * 0.35D, getEntityBoundingBox().minY + 0.5D, posZ - width * 0.35D);
		pushOutOfBlocks(posX + width * 0.35D, getEntityBoundingBox().minY + 0.5D, posZ - width * 0.35D);
		pushOutOfBlocks(posX + width * 0.35D, getEntityBoundingBox().minY + 0.5D, posZ + width * 0.35D);
		final boolean var5 = getFoodStats().getFoodLevel() > 6.0F || capabilities.allowFlying;

		if (onGround && !var2 && !var4 && movementInput.moveForward >= var3 && !isSprinting() && var5 && !isUsingItem()
				&& !this.isPotionActive(Potion.blindness)) {
			if (sprintToggleTimer <= 0 && !Minecraft.gameSettings.keyBindSprint.getIsKeyPressed()) {
				sprintToggleTimer = 7;
			} else {
				setSprinting(true);
			}
		}

		if (!isSprinting() && movementInput.moveForward >= var3 && var5 && !isUsingItem()
				&& !this.isPotionActive(Potion.blindness) && Minecraft.gameSettings.keyBindSprint.getIsKeyPressed()) {
			setSprinting(true);
		}

		if (isSprinting() && (movementInput.moveForward < var3 || isCollidedHorizontally || !var5)) {
			setSprinting(false);
		}

		if (capabilities.allowFlying) {
			if (Minecraft.playerController.isSpectatorMode()) {
				if (!capabilities.isFlying) {
					capabilities.isFlying = true;
					sendPlayerAbilities();
				}
			} else if (!var1 && movementInput.jump) {
				if (flyToggleTimer == 0) {
					flyToggleTimer = 7;
				} else {
					capabilities.isFlying = !capabilities.isFlying;
					sendPlayerAbilities();
					flyToggleTimer = 0;
				}
			}
		}

		if (capabilities.isFlying && func_175160_A()) {
			if (movementInput.sneak) {
				motionY -= capabilities.getFlySpeed() * 3.0F;
			}

			if (movementInput.jump) {
				motionY += capabilities.getFlySpeed() * 3.0F;
			}
		}

		if (isRidingHorse()) {
			if (horseJumpPowerCounter < 0) {
				++horseJumpPowerCounter;

				if (horseJumpPowerCounter == 0) {
					horseJumpPower = 0.0F;
				}
			}

			if (var1 && !movementInput.jump) {
				horseJumpPowerCounter = -10;
				sendHorseJump();
			} else if (!var1 && movementInput.jump) {
				horseJumpPowerCounter = 0;
				horseJumpPower = 0.0F;
			} else if (var1) {
				++horseJumpPowerCounter;

				if (horseJumpPowerCounter < 10) {
					horseJumpPower = horseJumpPowerCounter * 0.1F;
				} else {
					horseJumpPower = 0.8F + 2.0F / (horseJumpPowerCounter - 9) * 0.1F;
				}
			}
		} else {
			horseJumpPower = 0.0F;
		}

		super.onLivingUpdate();

		if (onGround && capabilities.isFlying && !Minecraft.playerController.isSpectatorMode()) {
			capabilities.isFlying = false;
			sendPlayerAbilities();
		}
	}
}
