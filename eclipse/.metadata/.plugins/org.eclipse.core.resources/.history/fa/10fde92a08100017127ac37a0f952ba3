package me.EaZy.client.modules;

import com.darkmagician6.eventapi.EventManager;
import com.darkmagician6.eventapi.EventTarget;

import me.EaZy.client.Category;
import me.EaZy.client.Module;
import me.EaZy.client.events.EventReceivePacket;
import net.minecraft.client.Minecraft;
import net.minecraft.network.play.server.S08PacketPlayerPosLook;

public class AAATestModule extends Module {
	public AAATestModule() {
		super("AAATestModule", 0, "", Category.HIDDEN, "Description not set.");
	}

	@Override
	public String getRenderName() {
		return "AAATestModule";
	}

	public static int i1 = 0;
	public static int i2 = 0;
	public static float f1 = 0;
	public static float f2 = 0;
	public static boolean b1 = false;
	public static boolean b2 = false;

	@Override
	public void onUpdate() {
		if (!isToggled()) {
			if (togglecmd) {
				setToggled(true);
				onEnable();
			}
			return;
		}
		if (isToggled() && !togglecmd) {
			setToggled(false);
			onDisable();
			return;
		}

		if (Minecraft.thePlayer.fallDistance > 0 && b1) {
			Minecraft.thePlayer.motionY = 0.1;
			Minecraft.thePlayer.fallDistance = 0;
		}

		if (i1 < 5) {
			Minecraft.thePlayer.speedInAir = 0.06f;
		}

		if (i1 > 5) {
			Minecraft.thePlayer.speedInAir = 0.02f;
		}

		i1++;

		super.onUpdate();
	}

	@Override
	public void onRender() {
		if (!isToggled()) {
			return;
		}
		super.onRender();
	}

	@Override
	public void onEnable() {
		EventManager.register(this);
		msg("§2Test-Module enaled!");
		// if (Keyboard.isKeyDown(Keyboard.KEY_RCONTROL)) {
		// fakePlayer = new EntityOtherPlayerMP(Minecraft.theWorld,
		// Minecraft.thePlayer.getGameProfile());
		// fakePlayer.clonePlayer(Minecraft.thePlayer, true);
		// fakePlayer.copyLocationAndAnglesFrom(Minecraft.thePlayer);
		// fakePlayer.rotationYawHead = Minecraft.thePlayer.rotationYawHead;
		// Minecraft.theWorld.addEntityToWorld(-1337, fakePlayer);
		// }
		super.onEnable();
		if (Minecraft.thePlayer.onGround) {
			Minecraft.thePlayer.jump();
		}
	}

	public EventTarget sserverpacekts(final EventReceivePacket e) {
		if (e.getPacket() instanceof S08PacketPlayerPosLook) {
			b1 = true;
		}
		return null;
	}

	@Override
	public void onDisable() {
		i1 = 0;
		Minecraft.thePlayer.speedInAir = 0.02f;
		EventManager.unregister(this);
		msg("§4Test-Module disabled!");
		// Minecraft.theWorld.removeEntityFromWorld(-1337);
		// fakePlayer = null;
		super.onDisable();
	}
}
